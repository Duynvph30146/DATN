<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<!--thư viện-->
<nav th:replace="~{/layout/head.html}"></nav>
<!--Các sản phẩm nổi bật-->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<!--Hover vào ảnh-->
<style>
    .carousel-img {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .carousel-img:hover {
        transform: scale(1.05); /* Tăng kích thước ảnh một chút khi hover */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); /* Thêm bóng đổ để tạo cảm giác nổi bật */
    }
</style>
<style>
    .color-button {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        display: inline-block;
        text-align: center;
        padding: 0;
        border-style: solid; /* Ensure border style is solid */
    }

    .size-button {
        width: 80px;
        height: 35px;
        /*border-radius: 50%;*/
        display: inline-block;
        text-align: center;
        padding: 0;
        border-style: solid; /* Ensure border style is solid */
    }

    .btn-border-thick {
        border-width: 3px; /* Thicker border */
        border-color: black !important; /* Ensure border color is black when selected */
    }

    .btn-border-thin {
        border-width: 2px; /* Thinner border */
    }
</style>

<style>
    /* Dùng thanh cuộn ngang */
    .tab-pane.horizontal-scrollable .single-products.row {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: hidden; /* Ẩn thanh cuộn ngang */
        -webkit-overflow-scrolling: touch; /* Cho thanh cuộn ngang trên iOS */
    }

    .tab-pane.horizontal-scrollable .col-md-3 {
        flex: 0 0 auto;
        width: 25%; /* Hiển thị 4 cột trên mỗi hàng */
    }

    .tab-pane.horizontal-scrollable {
        position: relative; /* Đặt vị trí tương đối để các nút cuộn được định vị dựa trên phần tử cha */
    }

    .scroll-prev, .scroll-next {
        position: absolute; /* Đặt vị trí tuyệt đối để căn chỉnh chính xác */
        top: 30%; /* Đặt vị trí theo chiều dọc giữa của phần tử cha */
        transform: translateY(-50%); /* Dịch chuyển các nút lên hoặc xuống để căn chỉnh theo chiều dọc */
        z-index: 10; /* Đảm bảo nút nằm trên các phần tử khác */
    }

    .scroll-prev {
        left: 0; /* Đặt vị trí của nút cuộn về trước */
    }

    .scroll-next {
        right: 0; /* Đặt vị trí của nút cuộn về sau */
    }

</style>
<!--Các sản phẩm mới nhất-->
<style>
    /* Dùng thanh cuộn ngang cho sản phẩm mới nhất */
    .tab-pane.horizontal-scrollable-new .single-products-new.row {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: hidden; /* Ẩn thanh cuộn ngang */
        -webkit-overflow-scrolling: touch; /* Cho thanh cuộn ngang trên iOS */
    }

    .tab-pane.horizontal-scrollable-new .col-md-3 {
        flex: 0 0 auto;
        width: 25%; /* Hiển thị 4 cột trên mỗi hàng */
    }

    .tab-pane.horizontal-scrollable-new {
        position: relative; /* Đặt vị trí tương đối để các nút cuộn được định vị dựa trên phần tử cha */
    }

    .scroll-prev-new, .scroll-next-new {
        position: absolute; /* Đặt vị trí tuyệt đối để căn chỉnh chính xác */
        top: 30%; /* Đặt vị trí theo chiều dọc giữa của phần tử cha */
        transform: translateY(-50%); /* Dịch chuyển các nút lên hoặc xuống để căn chỉnh theo chiều dọc */
        z-index: 10; /* Đảm bảo nút nằm trên các phần tử khác */
    }

    .scroll-prev-new {
        left: 0; /* Đặt vị trí của nút cuộn về trước */
    }

    .scroll-next-new {
        right: 0; /* Đặt vị trí của nút cuộn về sau */
    }

</style>

<style>
    #carouselExample .carousel-indicators img {
        width: 200px;
        height: 50px;
        object-fit: cover;
    }

</style>

<style>
    .row {
        display: flex; /* Sử dụng flexbox để căn giữa các phần tử con */
        justify-content: center; /* Căn giữa theo chiều ngang */
    }

    .column {
        /*margin: 0 auto; !* Tự động căn giữa theo chiều ngang *!*/
        text-align: center; /* Căn giữa nội dung của ảnh */
    }

    * {
        box-sizing: border-box;
    }

    /* Position the image container (needed to position the left and right arrows) */
    .container {
        position: relative;
    }

    /* Hide the images by default */
    .mySlides {
        display: none;
    }

    /* Add a pointer when hovering over the thumbnail images */
    .cursor {
        cursor: pointer;
    }

    .mySlides {
        position: relative; /* Đặt phần tử cha là relative */
    }

    .prev, .next {
        position: absolute; /* Đặt vị trí tuyệt đối */
        top: 50%; /* Đặt top ở giữa */
        transform: translateY(-50%); /* Dịch chuyển lên trên 50% của phần tử cha */
        width: auto;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 20px;
        border-radius: 0 3px 3px 0;
        user-select: none;
        -webkit-user-select: none;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .prev {
        left: 0; /* Đặt nút prev ở bên trái */
    }

    .next {
        right: 0; /* Đặt nút next ở bên phải */
    }


    /* On hover, add a black background color with a little bit see-through */
    .prev:hover,
    .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }

    /* Number text (1/3 etc) */
    .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
    }

    /* Container for image text */
    .caption-container {
        text-align: center;
        background-color: #222;
        padding: 2px 16px;
        color: white;
    }

    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    /* Six columns side by side */
    .column {
        float: left;
        width: 16.66%;
    }

    /* Add a transparency effect for thumbnail images */
    .demo {
        opacity: 0.6;
    }

    .active,
    .demo:hover {
        opacity: 1;
    }

</style>
<!--end-->

<style>
    .quantity {
        border: 1px solid #ccc; /* Màu viền */
        background-color: #f9f9f9; /* Màu nền */
        border-radius: 4px; /* Đường viền cong */
        width: fit-content; /* Độ rộng tự động theo nội dung bên trong */
        display: inline-flex; /* Hiển thị theo chiều ngang */
    }

    .quantity input[type="text"] {
        border: none; /* Loại bỏ viền cho input */
        background-color: transparent; /* Đặt nền input là trong suốt */
        text-align: center; /* Canh giữa nội dung */
        width: 50px; /* Chiều rộng cố định */
    }

    .quantity input[type="button"] {
        background-color: transparent; /* Đặt nút là trong suốt */
        border: none; /* Loại bỏ viền cho nút */
        cursor: pointer; /* Biến con trỏ thành hình bàn tay khi di chuột qua */
    }


</style>

<!--dùng co modal ảnh spct-->
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
    }

    #myImg:hover {
        opacity: 0.7;
    }

    /* The Modal (background) */
    #myModal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        padding-top: 50px; /* Location of the box */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0, 0, 0); /* Fallback color */
        background-color: rgba(0, 0, 0, 0.9); /* Black w/ opacity */
    }

    .modal-content {
        margin: auto;
        display: block;
        width: 60%;
        max-width: 600px;
    }

    /* Add Animation */
    .modal-content, #caption {
        -webkit-animation-name: zoom;
        -webkit-animation-duration: 0.6s;
        animation-name: zoom;
        animation-duration: 0.6s;
    }

    @keyframes zoom {
        from {
            transform: scale(0);
        }
        to {
            transform: scale(1);
        }
    }

    /* The Close Button */
    .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }
</style>

<!--dùng cho ribbon-->
<style>
    .ribbon {
        position: absolute;
        background-color: red; /* Màu nền của ribbon */
        color: white; /* Màu chữ trên ribbon */
        padding: 5px 10px; /* Điều chỉnh khoảng cách padding bên trong ribbon */
        font-size: 12px; /* Điều chỉnh kích cỡ font chữ */
        z-index: 1; /* Đảm bảo ribbon hiển thị phía trên ảnh */
    }

    .top-left {
        top: 10px; /* Vị trí top theo yêu cầu */
        left: 10px; /* Vị trí left theo yêu cầu */
        border-radius: 7px;
    }

    .top-right {
        top: 10px; /* Vị trí top theo yêu cầu */
        right: 10px; /* Vị trí right theo yêu cầu */
    }

</style>

<!--dùng cho mã coupon cố định-->
<style>
    #coupon-noti {
        position: fixed;
        top: 500px; /* Vị trí top cố định tính bằng px hoặc % */
        right: 1300px; /* Vị trí right cố định tính bằng px hoặc % */
        z-index: 1000; /* Đảm bảo coupon-noti hiển thị phía trên các phần tử khác */
        background-color: rgb(27, 78, 160); /* Màu nền */
        color: #ffffff; /* Màu chữ */
        padding: 10px; /* Đệm bên trong */
        cursor: pointer; /* Con trỏ chuột là pointer khi hover */
        border-radius: 20px; /* Để làm hình tròn (tuỳ chọn) */
    }
</style>
<!--dùng cho zalo cố định-->
<style>
    #coupon-notizalo {
        position: fixed;
        top: 600px; /* Vị trí top cố định tính bằng px hoặc % */
        right: 20px; /* Vị trí right cố định tính bằng px hoặc % */
        z-index: 1000; /* Đảm bảo coupon-noti hiển thị phía trên các phần tử khác */
        padding: 10px; /* Đệm bên trong */
        cursor: pointer; /* Con trỏ chuột là pointer khi hover */
        border-radius: 20px; /* Để làm hình tròn (tuỳ chọn) */
    }

</style>
<!--dùng cho zalo cố định-->
<script src="../sweetalert2/dist/sweetalert2.min.js/"></script>
<link rel="stylesheet" type="text/css" href="../sweetalert2/dist/sweetalert2.min.css">
<body>

<!-- header section start -->
<nav th:replace="~{/layout/header.html}"></nav>
<!-- header section end -->

<!-- product details area start -->
<section class="product-content section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="left">
                    <!-- Full-width images with number text -->
                    <!-- Loop through danhSachAnh and display images -->
                    <div th:each="image, index : ${danhSachAnh}" class="mySlides">
                        <div class="numbertext" th:text="${index.index + 1} + ' / ' + ${danhSachAnh.size()}"></div>
                        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                        <div class="image-container">
                            <span class="ribbon top-left">Hàng mới</span> <!-- Ribbon hàng mới ở góc trên bên trái -->
                            <!--                            <span th:each="dotGiamGia : ${sanphamchitiet.sanphamdotgiam}"> &lt;!&ndash; Ribbon % giảm giá ở góc trên bên phải &ndash;&gt;-->
                            <!--                <span class="ribbon top-right" th:text="${dotGiamGia.dotgiamgia.giatrigiam} + ' %'"></span>-->
                            <!--            </span>-->
                            <span id="giatrigiam"
                                  th:classappend="${selectedDiscount > 0} ? 'ribbon top-right' : ''"
                                  th:attr="data-discount=${selectedDiscount > 0} ? ${selectedDiscount} + '%' : ''"
                                  th:text="${selectedDiscount > 0} ? ${selectedDiscount} + '%' : ''">
</span>

                            <img th:src="@{'/upload' + ${image.substring(image.lastIndexOf('upload') + 6)}}"
                                 style="width:100%" alt="Ảnh" onclick="openModal(this)">
                        </div>
                        <a class="next" onclick="plusSlides(1)">&#10095;</a>
                    </div>
                    <!-- The Modal -->
                    <div id="myModal" class="modal">
                        <span class="close" onclick="closeModal()">&times;</span>
                        <img class="modal-content" id="img01">
                        <div id="caption2"></div>
                    </div>
                    <!-- Image text -->
                    <div class="caption-container">
                        <p id="caption"></p>
                    </div>
                    <!-- Thumbnail images -->
                    <div class="row">
                        <div th:each="image, index : ${danhSachAnh}" class="column">
                            <img class="demo cursor"
                                 th:src="@{'/upload' + ${image.substring(image.lastIndexOf('upload') + 6)}}"
                                 style="width:100%" onclick="currentSlide(${index.index + 1})" alt="Ảnh">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="right">
                    <div class="singl-pro-title" th:data-product-id="${sanpham.id}">
                        <h3>
                            <span th:text="${sanpham.tensanpham}"></span>
                            <span id="product-maspct" th:text="${selectedMaSPCT == null ? 'Không tồn tại' : '[' + selectedMaSPCT + ']'}"></span>
                        </h3>
                        <div class="d-flex">
                            <h6>Thương hiệu:
                                <span id="product-thuonghieu" th:text="${selectedThuongHieu}" style="color: red"></span>
                            </h6>
                            <h6 style="margin-left: 30px">Chất liệu:
                                <span id="product-chatlieu" th:text="${selectedChatLieu}" style="color: red"></span>
                            </h6>
                            <h6 style="margin-left: 30px">Đế giày:
                                <span id="product-degiay" th:text="${selectedDeGiay}" style="color: red"></span>
                            </h6>
                        </div>
                        <h6 class="d-flex align-items-center">Giá tiền:
                            <del id="newPrice" style="margin-top: -17px; margin-left: 5px; margin-right: 5px">
        <span th:if="${selectedPrice != selectedPriceMoi}"
              th:text="${#numbers.formatDecimal(selectedPrice, 0, 'COMMA', 0, 'POINT') + '&#x20ab;'}"
              style="color: black; font-weight: bold;">
        </span>
                            </del>
                            <span id="newPriceMoi"
                                  th:text="${selectedPriceMoi == null ? '0đ' : #numbers.formatDecimal(selectedPriceMoi, 0, 'COMMA', 0, 'POINT') + '&#x20ab;'}"
                                  style="color: red; font-weight: bold;"></span>
                        </h6>


                        <hr>
                        <h6>
                            Số lượng có sẵn:
                            <span id="product-quantity" th:text="${selectedQuantity}"></span>
                        </h6>

                        <form id="addToCartForm" method="post" onsubmit="return handleSubmit();">
                            <input type="hidden" th:value="${token}" id="tokenDN" name="tokenDN">
                            <input type="hidden" name="id" th:value="${sanphamchitiet.id}" id="idspct">
                            <input type="hidden" name="selectedColor" id="selectedColor" th:value="${defaultColor}">
                            <input type="hidden" name="selectedSize" id="selectedSize" th:value="${defaultSize}">
                            <div th:id="'product-details-' + ${sanpham.id}" th:data-color="${defaultColor}">
                                <div class="d-flex align-items-center">
                                    <span style="margin-right: 10px;">Màu sắc:</span>
                                    <div th:each="color, iterStat : ${colors}">
                                        <div style="margin-right: 10px">
                                            <a class="btn color-button"
                                               th:classappend="${iterStat.index == 0} ? 'btn-border-thick' : 'btn-border-thin'"
                                               th:data-color="${color}"
                                               th:style="'background-color:' + ${color} + ';border-color:' + (${iterStat.index == 0} ? 'black' : ${color})"
                                               th:aria-label="${color}"
                                               th:onclick="'changeButtonBackground(this); selectColor(this)'"></a>
                                        </div>
                                    </div>
                                </div>
                                <p></p>
                                <div class="d-flex align-items-center">
                                    <span style="margin-right: 10px;">Kích cỡ:</span>
                                    <div th:each="size, iterStat : ${sizes}">
                                        <div style="margin-right: 10px">
                                            <a class="btn size-button"
                                               th:classappend="${iterStat.index == 0} ? 'btn-border-thick' : 'btn-border-thin'"
                                               style="border-color: black"
                                               th:text="${size}" th:data-size="${size}"
                                               th:onclick="'changeButtonBackground(this); selectSize(this)'"></a>
                                        </div>
                                    </div>
                                    <a class="btn" style="border-color: black" th:href="@{#}" data-bs-toggle="modal"
                                       data-bs-target="#cachchonsize">
                                        <i class="bi bi-credit-card-2-front-fill"></i>
                                        Cách chọn size</a>
                                </div>
                                <!-- Modal -->
                                <div class="modal fade" id="cachchonsize" tabindex="-1"
                                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg"> <!-- Thêm lớp modal-lg để modal rộng hơn -->
                                        <div class="modal-content" style="width: 90%; max-width: 1000px;">
                                            <!-- Điều chỉnh chiều rộng của modal-content -->
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="exampleModalLabel">Hướng dẫn chọn size
                                                    giày fsport</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <!-- Nội dung của modal -->
                                                <img src="../../dist/img/chonsize.webp" style="width: 100%;"
                                                     alt="Hướng dẫn chọn size giày fsport">
                                                <p></p>
                                                <h6 style="font-style: italic">LÀM THEO BẢNG HƯỚNG DẪN SAU BẠN SẼ CÓ
                                                    NHỮNG SỐ ĐO CHÂN CỤ THỂ, DỰA VÀO ĐÓ CANH ĐO THEO BẢNG SIZE CHUẨN
                                                    GIÀY CHÍNH HÃNG FSPORT</h6>
                                                <p></p>
                                                <h5 style="color: red">CÔNG THỨC ĐO SIZE GIÀY = CHIỀU DÀI CHÂN + 1CM (
                                                    TRỪ HAO BỀ NGANG + VỚ )</h5>
                                                <p></p>
                                                <h6>SAU ĐÓ ĐỐI CHIẾU VỚI BẢNG SIZE GIÀY BÓNG ĐÁ CHÍNH HÃNG : </h6>
                                                <img src="../../dist/img/chonsize2.webp" style="width: 100%;"
                                                     alt="Hướng dẫn chọn size giày fsport">
                                                <p></p>
                                                <h6 style="font-style: italic">LƯU Ý : CHÚ Ý ĐẾN FORM CHÂN THON VÀ CHÂN
                                                    BÈ</h6>
                                                <p></p>
                                                <h6>ĐỐI VỚI NHỮNG NGƯỜI CHÂN THON, GANG BÀN CHÂN NHỎ, VIỆC CHỌN MUA GIÀY
                                                    BÓNG ĐÁ CHÍNH HÃNG KHÁ DỄ DÀNG VÌ CHỈ CẦN CĂN CỨ VÀO CHIỀU DÀI.
                                                    NHƯNG VỚI NHỮNG NGƯỜI CHÂN BÈ, GANG BÀN CHÂN TO VÀ DẦY, CẦN CHÚ Ý
                                                    ĐẾN FORM ĐÔI GIÀY MÌNH MUỐN MUA. VỀ THIẾT KẾ THÌ CÁC MẪU GIÀY ĐÁ
                                                    BANH CỦA MIZUNO SẼ TƯƠNG ĐỐI THOẢI MÁI VÀ PHÙ HỢP HƠN VỚI NHỮNG BÀN
                                                    CHÂN BÈ.</h6>
                                                <img src="../../dist/img/chonsize3.jpg" style="width: 100%;"
                                                     alt="Hướng dẫn chọn size giày fsport">
                                                <p></p>
                                                <h6 style="font-style: italic">CHỌN 1 ĐÔI GIÀY BÓNG ĐÁ PHÙ HỢP VỚI FORM
                                                    CHÂN SẼ GIÚP BẠN CẢM THẤY THOẢI MÁI HƠN KHI KHI ĐẤU</h6>
                                                <p></p>
                                                <h6 style="color: rgb(217,185,28)">FSPORT VỚI ĐỘI NGŨ CSKH ONLINE RẤT CÓ
                                                    KINH NGHIỆM VỀ TƯ VẤN SIZE GIÀY BÓNG ĐÁ CHÍNH HÃNG SẼ HỖ TRỢ KHÁCH
                                                    HÀNG MỘT CÁCH NHANH CHÓNG VÀ CHÍNH XÁC NHẤT THÔNG QUA FACEBOOK,
                                                    ZALO,HOTLINE 24/7</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <p></p>
                                <div class="d-flex align-items-center">
                                    <span style="margin-right: 10px;">Số lượng:</span>
                                    <div>
                                        <input type="number" size="4" name="quantity" id="quantityInput" value="0"
                                               min="1" class="tc line-item-qty item-quantity bg-white form-control"
                                               style="width:100px" oninput="validateQuantity()">
                                    </div>
                                </div>
                                <p></p>
                                <span style="margin-right: 10px;">Mô tả: <span th:text="${sanphamchitiet.mota}"></span></span>
                                <!--                                <span th:text="${selectedIdspct}" id="idan"></span>-->
                                <span th:text="${selectedIdspct}" id="idan" style="display: none;"></span>
                                <hr>
                                <div class="d-flex">
<!--                                    <button type="submit" th:formaction="@{/muangay}" class="btn btn-dark"-->
<!--                                            id="muangaycart"-->
<!--                                            style="width: 220px; height: 50px; line-height: 40px">-->
<!--                                        <i class="bi bi-plus-square-fill" style="font-size: 20px"></i> MUA NGAY-->
<!--                                    </button>-->

                                    <button type="submit" th:formaction=@{/add-to-cart} id="add-to-cart-btn"
                                            class="btn btn"
                                            style="background-color: rgb(249,72,42); color: white; width: 220px;height: 50px;line-height: 40px;margin-left: 5px">
                                        <i class="bi bi-bag-plus-fill" style="font-size: 20px"></i>
                                        THÊM VÀO GIỎ HÀNG
                                    </button>
                                </div>
                            </div>
                        </form>

                        <br>
                        <br>
                        <ul style="list-style-type: disc;">
                            <li style="font-style: italic; color: red;">Miễn phí vận chuyển toàn quốc cho đơn hàng từ 2 triệu trở lên
                            </li>
                            <li style="font-style: italic; color: red;">Giao hàng nhanh trong 2 giờ trong nội thành Hà
                                Nội
                            </li>
                            <li style="font-style: italic; color: red;">Thời gian vận chuyển trung bình từ 3 đến 4
                                ngày
                            </li>
                        </ul>

                    </div>
                </div>
            </div>

            <h3 style="margin-top: 30px; color: rgb(249, 72, 42); font-family: 'Lucida Sans Typewriter'"
                class="text-center">CÁC SẢN PHẨM LIÊN QUAN</h3>
            <hr class="border border-danger border opacity-50">
            <div class="tab-content">
                <!--nội dung-->
                <div class="tab-pane fade text-center active show horizontal-scrollable" id="gird">
                    <button class="scroll-prev btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-chevron-left" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
                        </svg>
                    </button> <!-- Nút cuộn về trước -->
                    <div class="single-products row">
                        <div class="col-md-3" th:each="sp, stt : ${page2}">
                            <div class="product-item margin40">
                                <div class="pro-img">
                                    <a th:href="@{/detailsanphamCustomer/{id}(id=${sp[0]})}">
                                        <img th:if="${sp[6] != null}"
                                             th:src="@{'/upload' + ${sp[6].substring(sp[6].lastIndexOf('upload') + 6)}}"
                                             class="d-block w-100 carousel-img rounded-3" alt="Ảnh">
                                    </a>
                                    <div class="tag-n-s" th:if="${sp[9] != null}">
                                        <span th:text="${sp[9] + '%'}"></span>
                                    </div>
                                    <!--                                    <div class="actions-btn">-->
                                    <!--                                        <ul class="clearfix">-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="cart.html"><i class="fa fa-shopping-cart"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="#"><i class="fa fa-heart"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="#" data-bs-toggle="modal" data-bs-target="#quick-view"><i-->
                                    <!--                                                        class="fa fa-eye"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                        </ul>-->
                                    <!--                                    </div>-->
                                </div>
                                <div class="product-title">
                                    <a href="#"><h3 class="title" th:text="${sp[1]}" style="font-weight: bold"></h3></a>
                                    <div class="ratting">
                                        <h6><span th:text="${sp[7]} + ' size'"
                                                  style="font-family: 'Bahnschrift'"></span> / <span
                                                th:text="${sp[8]} + ' màu sắc'"
                                                style="font-family: 'Bahnschrift'"></span></h6>
                                    </div>
                                    <p>
                                        <!-- Tính giá sau khi giảm -->
                                    <div th:with="giaGoc=${sp[5] != null ? sp[5] : 0}, giaGiam=${sp[9] != null ? sp[9] : 0}, giaSauKhiGiam=${giaGoc - (giaGoc * giaGiam / 100)}">
                                        <!-- Hiển thị thẻ <del> chỉ khi giá gốc khác giá sau khi giảm -->
                                        <del style="color: black; font-weight: bold"
                                             th:if="${giaGoc != giaSauKhiGiam}"
                                             th:text="${#numbers.formatDecimal(giaGoc, 0, 'COMMA', 0, 'POINT') + '&#x20ab;'}">
                                        </del>
                                    </div>

                                    <span style="color: red; font-weight: bold"
                                          th:text="${#numbers.formatDecimal(
          (sp[5] != null ? sp[5] : 0) - ((sp[5] != null ? sp[5] : 0) * (sp[9] != null ? sp[9] : 0) / 100),
          0, 'COMMA', 0, 'POINT') + ' &#x20ab;'
      }">
</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!---end-->
                    </div>
                    <button class="scroll-next btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-chevron-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
                        </svg>
                    </button> <!-- Nút cuộn về sau -->
                </div>
                <!--end-->
            </div>

            <!--Các sản phẩm mới nhất-->
            <h3 style="margin-top: 30px; color: rgb(249, 72, 42); font-family: 'Lucida Sans Typewriter'"
                class="text-center">CÁC SẢN PHẨM MỚI NHẤT</h3>
            <hr class="border border-danger border opacity-50">
            <div class="tab-content">
                <!--nội dung-->
                <div class="tab-pane fade text-center active show horizontal-scrollable-new" id="new-products">
                    <button class="scroll-prev-new btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-chevron-left" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
                        </svg>
                    </button> <!-- Nút cuộn về trước -->
                    <div class="single-products-new row">
                        <div class="col-md-3" th:each="sp, stt : ${page}">
                            <div class="product-item margin40">
                                <div class="pro-img">
                                    <a th:href="@{/detailsanphamCustomer/{id}(id=${sp[0]})}">
                                        <img th:if="${sp[6] != null}"
                                             th:src="@{'/upload' + ${sp[6].substring(sp[6].lastIndexOf('upload') + 6)}}"
                                             class="d-block w-100 carousel-img rounded-3" alt="Ảnh">
                                    </a>
                                    <div class="tag-n-s" th:if="${sp[9] != null}">
                                        <span th:text="${sp[9] + '%'}"></span>
                                    </div>
                                    <!--                                    <div class="actions-btn">-->
                                    <!--                                        <ul class="clearfix">-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="cart.html"><i class="fa fa-shopping-cart"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="#"><i class="fa fa-heart"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                            <li>-->
                                    <!--                                                <a href="#" data-bs-toggle="modal" data-bs-target="#quick-view"><i-->
                                    <!--                                                        class="fa fa-eye"></i></a>-->
                                    <!--                                            </li>-->
                                    <!--                                        </ul>-->
                                    <!--                                    </div>-->
                                </div>
                                <div class="product-title">
                                    <a href="#"><h3 class="title" th:text="${sp[1]}" style="font-weight: bold"></h3></a>
                                    <div class="ratting">
                                        <h6><span th:text="${sp[7]} + ' size'"
                                                  style="font-family: 'Bahnschrift'"></span> / <span
                                                th:text="${sp[8]} + ' màu sắc'"
                                                style="font-family: 'Bahnschrift'"></span></h6>
                                    </div>
                                    <p>
                                        <!-- Tính giá sau khi giảm -->
                                    <div th:with="giaGoc=${sp[5] != null ? sp[5] : 0}, giaGiam=${sp[9] != null ? sp[9] : 0}, giaSauKhiGiam=${giaGoc - (giaGoc * giaGiam / 100)}">
                                        <!-- Hiển thị thẻ <del> chỉ khi giá gốc khác giá sau khi giảm -->
                                        <del style="color: black; font-weight: bold"
                                             th:if="${giaGoc != giaSauKhiGiam}"
                                             th:text="${#numbers.formatDecimal(giaGoc, 0, 'COMMA', 0, 'POINT') + '&#x20ab;'}">
                                        </del>
                                    </div>

                                    <span style="color: red; font-weight: bold"
                                          th:text="${#numbers.formatDecimal(
          (sp[5] != null ? sp[5] : 0) - ((sp[5] != null ? sp[5] : 0) * (sp[9] != null ? sp[9] : 0) / 100),
          0, 'COMMA', 0, 'POINT') + ' &#x20ab;'
      }">
</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!---end-->
                    </div>
                    <button class="scroll-next-new btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-chevron-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
                        </svg>
                    </button> <!-- Nút cuộn về sau -->
                </div>
                <!--end-->
            </div>
            <!--end-->
        </div>
    </div>
</section>
<div id="coupon-noti" data-toggle="modal" data-target="#modalCoupons" class="noti-icon has-item">
    <!-- Nội dung của coupon-noti -->
    <span class=""><i class="fa fa-gift fa-lg"></i> Danh sách mã Coupon</span>
</div>
<div id="coupon-notizalo" data-toggle="modal" data-target="#modalCoupons" class="noti-icon has-item">
    <!-- Nội dung của coupon-noti -->
    <a target="_blank">
        <span class=""><img alt="Zalo" style="width:50px" src="../dist/img/zalo.png"/></span>
    </a>
</div>

<!-- footer section start -->
<nav th:replace="~{/layout/footer.html}"></nav>
<!-- footer section end -->

</body>
</html>

<!--scroll-->
<script>
    var modal = document.getElementById("myModal");
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption2");

    // Function to open modal and display selected image
    function openModal(imgElement) {
        modal.style.display = "block";
        modalImg.src = imgElement.src;
        captionText.innerHTML = imgElement.alt;
    }

    // Function to close modal
    function closeModal() {
        modal.style.display = "none";
    }

    let slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function currentSlide2(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("demo");
        let captionText = document.getElementById("caption");
        if (n > slides.length) {
            slideIndex = 1
        }
        if (n < 1) {
            slideIndex = slides.length
        }
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
        captionText.innerHTML = dots[slideIndex - 1].alt;
    }

    // Add event listeners to thumbnail images
    let thumbnails = document.getElementsByClassName("demo");
    for (let i = 0; i < thumbnails.length; i++) {
        thumbnails[i].addEventListener("click", function () {
            currentSlide(i + 1);
        });
    }
</script>

<!-- các sản phẩm nổi bật-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const scrollableContainer = document.querySelector(".tab-pane.horizontal-scrollable .single-products.row");
        const scrollPrevBtn = document.querySelector(".scroll-prev");
        const scrollNextBtn = document.querySelector(".scroll-next");

        scrollPrevBtn.addEventListener("click", function () {
            if (scrollableContainer.scrollLeft === 0) {
                scrollableContainer.scrollLeft = scrollableContainer.scrollWidth - scrollableContainer.clientWidth;
            } else {
                scrollableContainer.scrollBy({left: -200, behavior: "smooth"});
            }
        });

        scrollNextBtn.addEventListener("click", function () {
            if (scrollableContainer.scrollLeft >= (scrollableContainer.scrollWidth - scrollableContainer.clientWidth)) {
                scrollableContainer.scrollLeft = 0;
            } else {
                scrollableContainer.scrollBy({left: 200, behavior: "smooth"});
            }
        });
    });

</script>

<!-- các sản phẩm mới nhất-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const scrollableContainerNew = document.querySelector(".tab-pane.horizontal-scrollable-new .single-products-new.row");
        const scrollPrevBtnNew = document.querySelector(".scroll-prev-new");
        const scrollNextBtnNew = document.querySelector(".scroll-next-new");

        scrollPrevBtnNew.addEventListener("click", function () {
            if (scrollableContainerNew.scrollLeft === 0) {
                scrollableContainerNew.scrollLeft = scrollableContainerNew.scrollWidth - scrollableContainerNew.clientWidth;
            } else {
                scrollableContainerNew.scrollBy({left: -200, behavior: "smooth"});
            }
        });

        scrollNextBtnNew.addEventListener("click", function () {
            if (scrollableContainerNew.scrollLeft >= (scrollableContainerNew.scrollWidth - scrollableContainerNew.clientWidth)) {
                scrollableContainerNew.scrollLeft = 0;
            } else {
                scrollableContainerNew.scrollBy({left: 200, behavior: "smooth"});
            }
        });
    });

</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const defaultColorElement = document.querySelector('.btn-border-thick[data-color]');
        const defaultSizeElement = document.querySelector('.btn-border-thick[data-size]');
        if (defaultColorElement) {
            updateImagesAndPrice();
        }
        if (defaultSizeElement) {
            updatePriceAndQuantity();
        }
    });

    function updateImagesAndPrice() {
        const color = document.querySelector('.btn-border-thick[data-color]') ? document.querySelector('.btn-border-thick[data-color]').getAttribute('data-color') : null;
        const size = document.querySelector('.btn-border-thick[data-size]') ? document.querySelector('.btn-border-thick[data-size]').getAttribute('data-size') : null;
        const url = new URL(window.location);

        if (color) {
            url.searchParams.set('color', color);
        }
        if (size) {
            url.searchParams.set('size', size);
        }

        fetch(url)
            .then(response => response.text())
            .then(html => {
                const parser = new DOMParser();
                const newDocument = parser.parseFromString(html, 'text/html');
                const newImages = newDocument.querySelectorAll('.left .mySlides');
                const newThumbnails = newDocument.querySelectorAll('.left .column img');

                document.querySelectorAll('.left .mySlides').forEach((slide, index) => {
                    slide.innerHTML = newImages[index].innerHTML;
                });
                document.querySelectorAll('.left .column img').forEach((thumbnail, index) => {
                    thumbnail.src = newThumbnails[index].src;
                });
            });

        updatePriceAndQuantity(); // Ensure price and quantity are updated whenever images are updated
    }

    function updatePriceAndQuantity() {
        const color = document.querySelector('.btn-border-thick[data-color]') ? document.querySelector('.btn-border-thick[data-color]').getAttribute('data-color') : null;
        const size = document.querySelector('.btn-border-thick[data-size]') ? document.querySelector('.btn-border-thick[data-size]').getAttribute('data-size') : null;
        const url = new URL(window.location);

        if (color) {
            url.searchParams.set('color', color);
        }
        if (size) {
            url.searchParams.set('size', size);
        }

        fetch(url)
            .then(response => response.text())
            .then(html => {
                const parser = new DOMParser();
                const newDocument = parser.parseFromString(html, 'text/html');
                const newPrice = newDocument.querySelector('#newPrice').innerText;
                const newQuantity = newDocument.querySelector('#product-quantity').innerText;
                const idan = newDocument.querySelector('#idan').innerText;
                const newThuongHieu = newDocument.querySelector('#product-thuonghieu').innerText;
                const newChatLieu = newDocument.querySelector('#product-chatlieu').innerText;
                const newDeGiay = newDocument.querySelector('#product-degiay').innerText;
                const newMaSPCT = newDocument.querySelector('#product-maspct').innerText;
                const giatrigiam = newDocument.querySelector('#giatrigiam').innerText;
                const newPriceMoi = newDocument.querySelector('#newPriceMoi').innerText;
                if (newPriceMoi) {
                    document.querySelector('#newPriceMoi').innerText = newPriceMoi;
                } else {
                    document.querySelector('#newPriceMoi').innerText = "Không tồn tại";
                }

                if (giatrigiam) {
                    document.querySelector('#giatrigiam').innerText = giatrigiam;
                } else {
                    document.querySelector('#giatrigiam').innerText = "";
                }
                if (idan) {
                    document.querySelector('#idan').innerText = idan;
                } else {
                    document.querySelector('#idan').innerText = "Không tồn tại";
                }
                if (newPrice) {
                    document.querySelector('#newPrice').innerText = newPrice;
                } else {
                    document.querySelector('#newPrice').innerText = 'Không có giá';
                }

                if (newQuantity) {
                    document.querySelector('#product-quantity').innerText = newQuantity;
                } else {
                    document.querySelector('#product-quantity').innerText = 'Không tồn tại';
                }
                if (newThuongHieu) {
                    document.querySelector('#product-thuonghieu').innerText = newThuongHieu;
                } else {
                    document.querySelector('#product-thuonghieu').innerText = 'Không tồn tại';
                }
                if (newChatLieu) {
                    document.querySelector('#product-chatlieu').innerText = newChatLieu;
                } else {
                    document.querySelector('#product-chatlieu').innerText = 'Không tồn tại';
                }
                if (newDeGiay) {
                    document.querySelector('#product-degiay').innerText = newDeGiay;
                } else {
                    document.querySelector('#product-degiay').innerText = 'Không tồn tại';
                }
                if (newMaSPCT) {
                    document.querySelector('#product-maspct').innerText = newMaSPCT;
                } else {
                    document.querySelector('#product-maspct').innerText = 'Không có mã spct';
                }


                const isAnyFieldMissing = !newPrice || !newQuantity || !newThuongHieu || !newChatLieu || !newDeGiay || !newMaSPCT;

                // Disable or enable the "Add to Cart" button
                const addToCartButton = document.querySelector('#add-to-cart-btn');
                const muangaycart = document.querySelector('#muangaycart');
                if (isAnyFieldMissing || parseInt(newQuantity) === 0) {
                    addToCartButton.disabled = true;
                    muangaycart.disabled = true;
                } else {
                    addToCartButton.disabled = false;
                    muangaycart.disabled = false;
                }
            });
    }

    function changeButtonBackground(element) {
        const isColorButton = element.hasAttribute('data-color');
        const isSizeButton = element.hasAttribute('data-size');

        if (isColorButton) {
            const colorButtons = document.querySelectorAll('.btn[data-color]');
            const isSelected = element.classList.contains('btn-border-thick');

            if (!isSelected) {
                colorButtons.forEach(button => {
                    button.classList.remove('btn-border-thick');
                    button.classList.add('btn-border-thin');
                    button.style.borderColor = button.getAttribute('data-color'); // Set border color back to original color
                });
                element.classList.remove('btn-border-thin');
                element.classList.add('btn-border-thick');
                element.style.borderColor = 'black'; // Set border color to black when selected
            }
        } else if (isSizeButton) {
            const sizeButtons = document.querySelectorAll('.btn[data-size]');
            const isSelected = element.classList.contains('btn-border-thick');

            if (!isSelected) {
                sizeButtons.forEach(button => {
                    button.classList.remove('btn-border-thick');
                    button.classList.add('btn-border-thin');
                    button.style.borderColor = button.getAttribute('data-size'); // Set border color back to original color
                });
                element.classList.remove('btn-border-thin');
                element.classList.add('btn-border-thick');
                element.style.borderColor = 'black'; // Set border color to black when selected
            }
        }

        updateImagesAndPrice();
    }

</script>

<!--giá trị mặc định của màu sắc và kích cỡ-->
<script>
    function selectColor(element) {
        document.getElementById("selectedColor").value = element.getAttribute("data-color");
    }

    function selectSize(element) {
        document.getElementById("selectedSize").value = element.getAttribute("data-size");
    }
</script>
<!--validate soluong-->
<script th:inline="javascript">
    /*<![CDATA[*/
    document.getElementById('addToCartForm').addEventListener('submit', function (event) {
        var selectedQuantity = parseInt(document.getElementById('quantityInput').value);
        var availableQuantity = parseInt(document.getElementById('product-quantity').innerText); // Lấy số lượng có sẵn từ thẻ span

        if (selectedQuantity > availableQuantity) {
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.onmouseenter = Swal.stopTimer;
                    toast.onmouseleave = Swal.resumeTimer;
                }
            });
            Toast.fire({
                icon: 'warning',
                title: 'Số lượng nhập vào vượt quá số lượng có sẵn trong kho (' + availableQuantity + ')'
            });
            event.preventDefault(); // Ngăn không gửi form nếu số lượng vượt quá
        }
    });
    /*]]>*/
</script>

<!--dùng cho mã coupont coupon cố định-->
<script>
    // JavaScript để giữ coupon-noti ở vị trí cố định khi scroll
    window.addEventListener('scroll', function () {
        var couponNoti = document.getElementById('coupon-noti');
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

        if (scrollTop > 100) { // Thay 100 bằng khoảng cách mà bạn muốn
            couponNoti.style.display = 'block';
        } else {
            couponNoti.style.display = 'none';
        }
    });
</script>
<!--dùng cho mã coupont coupon cố định cho zalo-->
<script>
    // JavaScript để giữ coupon-noti ở vị trí cố định khi scroll
    window.addEventListener('scroll', function () {
        var couponNoti = document.getElementById('coupon-notizalo');
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

        if (scrollTop > 100) { // Thay 100 bằng khoảng cách mà bạn muốn
            couponNoti.style.display = 'block';
        } else {
            couponNoti.style.display = 'none';
        }
    });
</script>
<!--token-->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var token = document.getElementById("tokenDN").value;
        console.log("hhhh" + token);
    });
</script>

<!--<script>-->
<!--    async function getProducts() {-->
<!--        const response = await fetch('/giohangchitietsssss');-->
<!--        return await response.json();-->
<!--    }-->

<!--    // Hàm để lấy chi tiết sản phẩm từ server dựa vào productId-->
<!--    async function getProductDetails(Id) {-->
<!--        const response = await fetch(`/findBySPCTById/${Id}`);-->
<!--        return await response.json();-->
<!--    }-->

<!--    var addToCartForm = document.getElementById("addToCartForm");-->

<!--    async function submitFormadd() {-->
<!--        var idspct = document.getElementById("idspct").value;-->
<!--        var soluongmuonthem = parseInt(document.getElementById("quantityInput").value); // Chuyển đổi sang kiểu số-->

<!--        const spct = await getProductDetails(idspct); // Đợi cho đến khi getProductDetails hoàn thành-->

<!--        try {-->
<!--            const cartdetail = await getProducts(); // Đợi cho đến khi getProducts hoàn thành-->
<!--            if (cartdetail === null) {-->
<!--                console.log('cartdetail is null');-->
<!--                addToCartForm.submit();-->
<!--            } else {-->
<!--                cartdetail.forEach(c => {-->
<!--                    if (c.sanphamchitiet.id === spct.id) {-->
<!--                        var soluongtong = soluongmuonthem + c.soluong;-->
<!--                        if (soluongtong > spct.soluong) {-->
<!--                            alert("Số lượng không đủ");-->
<!--                        } else {-->
<!--                            addToCartForm.submit();-->
<!--                        }-->
<!--                    }-->
<!--                });-->
<!--            }-->
<!--        } catch (error) {-->
<!--            console.error('Error fetching products:', error);-->
<!--            addToCartForm.submit();-->
<!--        }-->
<!--    }-->
<!--</script>-->

<!--thông báo thêm vào giỏ hàng-->
<!--<script>-->
<!--    function handleSubmit() {-->
<!--        // Hiển thị thông báo Toastr khi form được submit-->
<!--        sessionStorage.setItem('successMessageThemGioHang', 'Thêm giỏ hàng thành công!');-->
<!--        return true; // Trả về true để tiếp tục submit-->
<!--    }-->
<!--</script>-->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const successMessage = sessionStorage.getItem('successMessageThemGioHang');
        if (successMessage) {
            // Hiển thị thông báo ở góc bên phải màn hình
            toastr.success(successMessage, 'Thông báo', {
                positionClass: 'toast-top-right',
                timeOut: 1500
            });
            // Xóa thông báo khỏi sessionStorage sau khi hiển thị
            sessionStorage.removeItem('successMessageThemGioHang');
        }
    });
</script>

<!--validate thông báo số lượng không được để trống-->
<script>
    function validateQuantity() {
        const idan = document.getElementById('idan').textContent.trim();
        const sl = document.getElementById('quantityInput').value;
        var list = [idan, sl];
        let encodedList = list.map(item => encodeURIComponent(item));
        if (sl === "") {
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.onmouseenter = Swal.stopTimer;
                    toast.onmouseleave = Swal.resumeTimer;
                }
            });
            Toast.fire({
                icon: 'warning',
                title: 'Số lượng không được để trống'
            });
            quantityInput.value = '1';
        } else {
            var urlchecksl = `http://localhost:8080/checkQuantity?id=${encodedList.join(",")}`;
            fetch(urlchecksl)
                .then(response => response.json())
                .then(isValid => {
                    if (!isValid) {
                        const Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 3000,
                            timerProgressBar: true,
                            didOpen: (toast) => {
                                toast.onmouseenter = Swal.stopTimer;
                                toast.onmouseleave = Swal.resumeTimer;
                            }
                        });
                        Toast.fire({
                            icon: 'warning',
                            title: 'Số lượng nhập vào vượt quá số lượng có sẵn trong kho'
                        });
                        // document.getElementById('muangaycart').disabled = true;
                        document.getElementById('add-to-cart-btn').disabled = true;
                    } else {
                        // document.getElementById('muangaycart').disabled = false;
                        document.getElementById('add-to-cart-btn').disabled = false;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    Swal.fire({
                        icon: 'error',
                        title: 'Lỗi',
                        text: 'Đã xảy ra lỗi, vui lòng thử lại sau!'
                    });
                    // document.getElementById('muangaycart').disabled = true;
                    document.getElementById('add-to-cart-btn').disabled = true;
                });
        }
    }
</script>

<script>
    // // const currentValue = quantityInput.value;
    // const Toast = Swal.mixin({
    //     toast: true,
    //     position: 'top-end',
    //     showConfirmButton: false,
    //     timer: 3000,
    //     timerProgressBar: true,
    //     didOpen: (toast) => {
    //         toast.onmouseenter = Swal.stopTimer;
    //         toast.onmouseleave = Swal.resumeTimer;
    //     }
    // });
    //
    // // Kiểm tra nếu giá trị của input là rỗng
    // if (currentValue === '') {
    //     Toast.fire({
    //         icon: 'warning',
    //         title: 'Số lượng không được để trống'
    //     });
    //
    //     // Đặt lại giá trị của input về giá trị mặc định (ví dụ: 1)
    //     quantityInput.value = '1';
    // }
</script>
<!--thông báo thêm giỏ hàng-->
<script>
    function thongbao(title, iconsz) {
        const Toast = Swal.mixin({
            toast: true,
            position: "top-end",
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.onmouseenter = Swal.stopTimer;
                toast.onmouseleave = Swal.resumeTimer;
            }
        });

        Toast.fire({
            icon: iconsz,
            title: title
        });
    }
</script>

<script th:inline="javascript">
    /*<![CDATA[*/
    var addProductSuccsess = /*[[${sussuses}]]*/ false;
    /*]]>*/

    if (addProductSuccsess == true) {
        thongbao('Thêm giỏ hàng thành công!', 'success')
    }
</script>