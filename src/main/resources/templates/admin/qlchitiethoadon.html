<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>T&T</title>
    <link rel="icon" type="image/png" href="../dist/img/logo_tt.png">
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!--Nhúng Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet" href="../plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="../plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- JQVMap -->
    <link rel="stylesheet" href="../plugins/jqvmap/jqvmap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../dist/css/adminlte.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="../plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="../plugins/daterangepicker/daterangepicker.css">
    <!-- summernote -->
    <link rel="stylesheet" href="../plugins/summernote/summernote-bs4.min.css">
    <!-- cdn-bootstrap icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<style>
    .timeline {
        display: flex;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
    }

    .timeline-item {
        flex-shrink: 0;
        width: 200px;
        padding: 10px;
        margin: 0 10px;
        background-color: #f4f4f4;
        /* Màu nền mặc định */
        border-radius: 6px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        display: flex;
        /* Thêm dòng này để sử dụng flexbox */
        flex-direction: column;
        /* Canh chỉnh các phần tử theo chiều dọc */
        align-items: center;
        /* Canh chỉnh các phần tử theo chiều ngang */
    }

    .badge-primary {
        background-color: #007bff;
    }

    /* Optional: Adjust image size */
    .status-icon {
        width: 50px;
        height: auto;
        margin-bottom: 10px;
    }

    .timeline-item:nth-child(odd) {
        background-color: #ffd700;
        /* Màu vàng */
    }

    .timeline-item:nth-child(even) {
        background-color: #7CFC00;
        /* Màu xanh lá */
    }
</style>

<body class="hold-transition sidebar-mini layout-fixed">

    <div class="wrapper">
        <!-- Ban đầu mở là hiển thị logo thương hiệu -->
        <div class="preloader flex-column justify-content-center align-items-center">
            <img class="animation__shake" src="../dist/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">
        </div>
        <!-- end -->

        <!-- navbar-->
        <nav th:replace="~{/layoutadmin/navbar.html}"></nav>
        <!-- End navbar -->

        <!--menu bán hàng -->
        <nav th:replace="~{/layoutadmin/menu.html}"></nav>
        <!--end menu -->


        <!-- narbar home/quản lý chi tiet hóa đơn -->
        <div class="content-wrapper">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <!--                        <h5 class="m-0" style="color: grey">< Đơn hàng</h5>-->
                            <!--                        &lt;!&ndash;Tên hóa đơn&ndash;&gt;-->
                            <!--                        <p><h2 class="m-0">HD123456</h2> <h5 class="m-0" style="color: grey">25/11/2023 15:40 </h5></p>-->
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item active">Quản lý chi tiết hóa đơn</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.content-header -->

            <!--timeline-->
            <div class="row g-3 container-fluid">
                <!--Nội dung chính timeline-->
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <div class="card" style="height: 350px;">
                                    <div class="card-header">
                                        <hr class="border border-danger border-2 opacity-50">
                                        <!--smkds-->
                                        <div class="container">
                                            <div class="row">
                                                <div class="col">
                                                    <div id="timeline" class="timeline">
                                                        <div class="timeline-item" th:each="a:${lstlichsu}">
                                                            <h1 th:if="${a.trangthai==0}"><i
                                                                    class="bi bi-check-circle"></i></h1>
                                                            <h1 th:if="${a.trangthai==1}"><i
                                                                    class="bi bi-check-circle-fill"></i></h1>
                                                            <h1 th:if="${a.trangthai==2}"><i
                                                                    class="bi bi-cart-check-fill"></i></h1>
                                                            <h1 th:if="${a.trangthai==3}"><i class="bi bi-truck"></i>
                                                            </h1>
                                                            <h1 th:if="${a.trangthai==4}"><i
                                                                    class="bi bi-cash-coin"></i></h1>
                                                            <h1 th:if="${a.trangthai==5}"><i
                                                                    class="bi bi-check-all"></i></h1>
                                                            <h1 th:if="${a.trangthai==6}"><i class="bi bi-trash"></i>
                                                            </h1>
                                                            <h3 th:if="${a.trangthai==0}">Chờ xác nhận</h3>
                                                            <h3 th:if="${a.trangthai==1}">Đã xác nhận</h3>
                                                            <h3 th:if="${a.trangthai==2}">Chờ giao hàng</h3>
                                                            <h3 th:if="${a.trangthai==3}">Đang giao hàng</h3>
                                                            <h3 th:if="${a.trangthai==4}">Đã thanh toán</h3>
                                                            <h3 th:if="${a.trangthai==5}">Hoàn thành đơn</h3>
                                                            <h3 th:if="${a.trangthai==6}">Đã hủy đơn</h3>
                                                            <p th:text="${a.ngaytao}"></p>
                                                        </div>
                                                    </div>
                                                    <p></p>
                                                    <button class="btn btn-danger" th:if="${trangThaiHienTai<3}"
                                                        data-bs-toggle="modal" data-bs-target="#huy">Hủy</button>
                                                    <button class="btn btn-warning" th:if="${trangThaiHienTai>0}"
                                                        data-bs-toggle="modal" data-bs-target="#quaylai">Quay
                                                        lại</button>
                                                    <button th:if="${trangThaiHienTai==0}" class="btn btn-primary"
                                                        data-bs-toggle="modal" data-bs-target="#xacnhan">Xác
                                                        nhận</button>
                                                    <button th:if="${trangThaiHienTai==1}" class="btn btn-primary"
                                                        data-bs-toggle="modal" data-bs-target="#chogiao">Chờ
                                                        giao</button>
                                                    <button th:if="${trangThaiHienTai==2}" class="btn btn-primary"
                                                        data-bs-toggle="modal" data-bs-target="#vanchuyen">Vận
                                                        chuyển</button>
                                                    <button th:if="${trangThaiHienTai==3}" class="btn btn-primary"
                                                        data-bs-toggle="modal" data-bs-target="#thanhtoan">Thanh
                                                        toán</button>
                                                    <button th:if="${trangThaiHienTai==4}" class="btn btn-primary"
                                                        data-bs-toggle="modal" data-bs-target="#hoanthanh">Hoàn
                                                        thành</button>
                                                    <button class="btn btn-dark" data-bs-toggle="modal"
                                                        data-bs-target="#lichsu" style="margin-left: 805px">Lịch
                                                        sử</button>
                                                    <!-- Button trigger modal lịch sử -->

                                                    <!-- Modal lịch sử -->
                                                    <div class="modal fade" id="lichsu" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-xl">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Lịch sử</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <table id="example2"
                                                                        class="table table-bordered table-hover text-center">
                                                                        <thead class="table table-danger">
                                                                            <tr>
                                                                                <th>STT</th>
                                                                                <th>Trạng thái</th>
                                                                                <th>Ngày xác nhận</th>
                                                                                <th>Người xác nhận</th>
                                                                                <th>Ghi chú</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr th:each="a:${lstlichsu}">
                                                                                <td th:text="${aStat.index+1}"></td>
                                                                                <td th:if="${a.trangthai==0}">chờ xác
                                                                                    nhận</td>
                                                                                <td th:if="${a.trangthai==1}">đã xác
                                                                                    nhận</td>
                                                                                <td th:if="${a.trangthai==2}">chờ giao
                                                                                    hàng</td>
                                                                                <td th:if="${a.trangthai==3}">đang giao
                                                                                    hàng</td>
                                                                                <td th:if="${a.trangthai==4}">đã thanh
                                                                                    toán</td>
                                                                                <td th:if="${a.trangthai==5}">đã hoàn
                                                                                    thành</td>
                                                                                <td th:if="${a.trangthai==6}">đã hủy
                                                                                </td>
                                                                                <td
                                                                                    th:text="${ #dates.format(a.ngaytao, 'dd-MM-yyyy HH:mm:ss')}">
                                                                                </td>
                                                                                <td
                                                                                    th:text="${a.nhanvien.nguoidung.hovaten}">
                                                                                </td>
                                                                                <td th:text="${a.ghichu}"></td>
                                                                            </tr>
                                                                            </tfoot>
                                                                    </table>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-secondary"
                                                                        data-bs-dismiss="modal">Thoát</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Button trigger modal xac nhan -->

                                                    <!-- Modal xác nhận -->
                                                    <div class="modal fade" id="xacnhan" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Xác nhận đơn hàng</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{xac-nhan-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="modal fade" id="huy" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Hủy đơn</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{huy-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="modal fade" id="quaylai" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Quay lại</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{quay-lai}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="modal fade" id="chogiao" aria-hidden="true"
                                                        aria-labelledby="exampleModalToggleLabel" tabindex="-1">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5"
                                                                        id="exampleModalToggleLabel">Thông tin hóa đơn
                                                                    </h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    thông tin hóa đơn hiển thị
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button class="btn btn-primary"
                                                                        data-bs-target="#exampleModalToggle2"
                                                                        data-bs-toggle="modal">
                                                                        lưu lại
                                                                    </button>
                                                                    <button class="btn btn-primary"
                                                                        data-bs-target="#exampleModalToggle2"
                                                                        data-bs-toggle="modal">
                                                                        Bỏ qua
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal fade" id="exampleModalToggle2" aria-hidden="true"
                                                        aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    Chờ giao đơn
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{xac-nhan-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="modal fade" id="vanchuyen" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Vận chuyển</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{xac-nhan-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="modal fade" id="thanhtoan" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Thanh toán</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{xac-nhan-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="modal fade" id="hoanthanh" tabindex="-1"
                                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                        Hoàn thành đơn</h1>
                                                                    <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form th:action="@{xac-nhan-don}" method="get"
                                                                        th:object="${ghichu}">
                                                                        <p>Nhập ghi chú:
                                                                            <input placeholder="Ghi chú"
                                                                                class="form-control" th:field="*{key}">
                                                                        </p>
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Hủy</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Xác nhận</button>
                                                                    </form>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--smkds-->
                                    </div>
                                </div>
                                <!-- /.card -->
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /.container-fluid -->
                </section>
                <!--end-->
            </div>
            <!--end-->

            <!--lịch sử thanh toán-->
            <div class="row g-3 container-fluid">
                <!--Nội dung chính lịch sử thanh toán-->
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <div class="card" style="height: 350px;">
                                    <div class="card-header">
                                        <hr class="border border-danger border-2 opacity-50">
                                        <!--smkds-->
                                        <h3>Lịch sử thanh toán</h3>
                                        <table id="example2" class="table table-bordered table-hover text-center">
                                            <thead class="table table-danger">
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Mã giao dịch</th>
                                                    <th>Số tiền</th>
                                                    <th>Trạng thái</th>
                                                    <th>Thời gian</th>
                                                    <th>Loại giao dịch</th>
                                                    <th>Phương thức thanh toán</th>
                                                    <th>Ghi chú</th>
                                                    <th>Người xác nhận</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="a:${lstphuongThucTT}">
                                                    <td th:text="${aStat.index+1}"></td>
                                                    <td th:text="${a.magiaodichvnpay}"></td>
                                                    <td th:text="${a.tongtien}"></td>
                                                    <td th:text="${a.trangthai==true?'Thành công':'Chưa thành công'}">

                                                    </td>
                                                    <td th:text="${a.ngaytao}"></td>
                                                    <td th:text="${a.tenphuongthuc}"></td>
                                                    <td th:text="${a.mota}"></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                </tfoot>
                                        </table>
                                        <!--smkds-->
                                    </div>
                                </div>
                                <!-- /.card -->
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /.container-fluid -->
                </section>
                <!--end-->
            </div>
            <!--end-->

            <div class="row g-3 container-fluid">
                <div class="col-lg-8 col-md-8">
                    <!--Nội dung chính chi tiet hóa đơn-->
                    <section class="content">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card" style="height: 326px;">
                                        <div class="card-header">
                                            <div class="d-flex justify-content-end align-content-center">
                                                <h4 th:text="${'Thông tin đơn hàng: '+hoaDonDT.mahoadon}">

                                                </h4>
                                                <button style="margin-right: 50px; margin-left: 140px;" type="button"
                                                    class="btn btn-outline-secondary" data-bs-toggle="modal"
                                                    data-bs-target="#modalThayDoiHoaDon"
                                                    th:classappend="${trangThaiHienTai!=0?'disabled':''}">Thay
                                                    đổi</button>
                                                <!--Modal thay đổi thông tin hóa đơn-->
                                                <!-- Modal -->
                                                <div class="modal fade" id="modalThayDoiHoaDon" tabindex="-1"
                                                    aria-labelledby="exampleModalThayDoiHoaDon" aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-scrollable">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h3 class="modal-title fs-5"
                                                                    id="exampleModalThayDoiHoaDon">Thay đổi thông tin
                                                                    hóa đơn</h3>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form class="row g-3" th:action="@{thay-doi-TT-HD}"
                                                                    method="get" th:object="${thayDoiTT}">
                                                                    <div class="col-md-12">
                                                                        <label class="form-label">Tên khách
                                                                            hàng:</label>
                                                                        <input type="text" class="form-control"
                                                                            th:field="*{ten}">
                                                                    </div>
                                                                    <div class="col-md-12">
                                                                        <label class="form-label">Số điện thoại:</label>
                                                                        <input type="text" class="form-control"
                                                                            th:field="*{sdt}">
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="form-label">Tỉnh/Thành
                                                                            Phố:</label>
                                                                        <select class="form-select" id="tinhthanhpho"
                                                                            th:field="*{tinh}" name="tinhthanhpho"
                                                                            onchange="getDiaChi()">
                                                                            <option selected disabled value="">Choose...
                                                                            </option>
                                                                            <option th:each="city : ${cities}"
                                                                                th:value="${city.getName()}"
                                                                                th:text="${city.getName()}">City
                                                                            </option>
                                                                        </select>

                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="form-label">Quận/Huyện:</label>
                                                                        <select class="form-select" id="quanhuyen"
                                                                            th:field="*{huyen}" name="quanhuyen"
                                                                            onchange="getQuanHuyen()">
                                                                            <option selected disabled value="">Choose...
                                                                            </option>

                                                                        </select>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="form-label">Phường/Xã: </label>
                                                                        <select class="form-select" id="xaphuong"
                                                                            th:field="*{xa}" name="xaphuong"
                                                                            onchange="getQuanHuyen()">
                                                                            <option selected disabled value="">Choose...
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-12">
                                                                        <label class="form-label">Địa chỉ cụ
                                                                            thể:</label>
                                                                        <input type="text" class="form-control"
                                                                            th:field="*{diachiCT}">
                                                                    </div>
                                                                    <div class="col-12">
                                                                        <label class="form-label">Phí giao hàng:</label>
                                                                        <input type="text" class="form-control"
                                                                            th:field="*{phigiao}">
                                                                    </div>
                                                                    <div class="col-12">
                                                                        <label class="form-label">Ghi chú:</label>
                                                                        <textarea class="form-control"
                                                                            th:field="*{ghichu}" rows="3"></textarea>
                                                                    </div>
                                                                    <button type="submit" class="btn btn-primary">Xác
                                                                        nhận</button>
                                                                </form>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary"
                                                                    data-bs-dismiss="modal">Hủy</button>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/Kết thúc modal thay đổi thông tin-->
                                                <button type="button" class="btn btn-outline-secondary"
                                                    data-bs-toggle="modal" data-bs-target="#modalChuyenNhanVien"
                                                    th:classappend="${trangThaiHienTai!=0?'disabled':''}">Chuyển
                                                    nhân viên</button>
                                                <!--Modal thay đổi nhân viên-->
                                                <!-- Modal -->
                                                <div class="modal fade" id="modalChuyenNhanVien" tabindex="-1"
                                                    aria-labelledby="exampleModalChuyenNhanVien" aria-hidden="true">
                                                    <div class="modal-dialog modal-xl">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h class="modal-title fs-5"
                                                                    id="exampleModalChuyenNhanVien">Chuyển nhân viên</h>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="card-body">
                                                                    <div
                                                                        class="d-flex justify-content-between align-items-center">
                                                                        <div>
                                                                            <p style="font-family: 'Times New Roman'; font-size: 18px; font-weight: bold;"
                                                                                th:text="${'Nhân viên hiện tại: '+hoaDonDT.nhanvien.nguoidung.hovaten}">
                                                                            </p>
                                                                            <p style="font-family: 'Times New Roman'; font-size: 18px; font-weight: bold;"
                                                                                th:text="${'Mã nhân viên: ' +hoaDonDT.nhanvien.manhanvien}">
                                                                            </p>
                                                                        </div>
                                                                        <nav class="navbar bg-body-tertiary">
                                                                            <div class="container-fluid">
                                                                                <form class="d-flex" role="search">
                                                                                    <input class="form-control me-2"
                                                                                        type="search"
                                                                                        placeholder="Search"
                                                                                        aria-label="Search">
                                                                                    <button
                                                                                        class="btn btn-outline-success"
                                                                                        type="submit">Search</button>
                                                                                </form>
                                                                            </div>
                                                                        </nav>
                                                                    </div>


                                                                    <table
                                                                        class="table table-bordered table-hover text-center">
                                                                        <thead class="table table-danger">
                                                                            <tr>
                                                                                <th>STT</th>
                                                                                <th>Mã nhân viên</th>
                                                                                <th>Tên nhân viên</th>
                                                                                <th>Số điện thoại</th>
                                                                                <th>Ngày sinh</th>
                                                                                <th>Giói tính</th>
                                                                                <th>Thao tác</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr th:each= "a:${pageNVChanges}">
                                                                                <td th:text="${aStat.index+1}"></td>
                                                                                <td th:text="${a.manhanvien}"></td>
                                                                                <td th:text="${a.nguoidung.hovaten}"></td>
                                                                                <td th:text="${a.nguoidung.sodienthoai}"></td>
                                                                                <td th:text="${ #dates.format(a.nguoidung.ngaysinh, 'dd-MM-yyyy')}"></td>
                                                                               
                                                                                <td th:text="${a.nguoidung.gioitinh==true?'Nam':'Nữ'}"></td>
                                                                                <td>
                                                                                    <button type="button"
                                                                                        class="btn btn-warning">Chọn</button>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <br>
                                                                    <nav aria-label="Page navigation example">
                                                                        <ul class="pagination">
                                                                            <li class="page-item"><a class="page-link"
                                                                                    href="#">Previous</a></li>
                                                                            <li class="page-item"><a class="page-link"
                                                                                    href="#">1</a></li>
                                                                            <li class="page-item"><a class="page-link"
                                                                                    href="#">Next</a></li>
                                                                        </ul>
                                                                    </nav>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary"
                                                                    data-bs-dismiss="modal">Hủy</button>
                                                                <button type="button" class="btn btn-primary">Xác
                                                                    nhận</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--Kết thúc modal thay đổi nhân viên-->
                                            </div>
                                            <hr class="border border-danger border-2 opacity-50">
                                            <div class="row g-3">
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Trạng thái:</h6>
                                                        <p th:if="${hoaDonDT.trangthai==0}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Chờ xác nhận</p>
                                                        <p th:if="${hoaDonDT.trangthai==1}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Đã xác nhận</p>
                                                        <p th:if="${hoaDonDT.trangthai==2}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Chờ giao hàng</p>
                                                        <p th:if="${hoaDonDT.trangthai==3}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Đang giao hàng</p>
                                                        <p th:if="${hoaDonDT.trangthai==4}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Đã thanh toán</p>
                                                        <p th:if="${hoaDonDT.trangthai==5}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Đã hoàn thành</p>
                                                        <p th:if="${hoaDonDT.trangthai==6}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            Đã hủy</p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Loại:</h6>
                                                        <p th:if="${hoaDonDT.loaihoadon==true}"
                                                            style="margin-left: 50px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            ONLINE</p>
                                                        <p th:if="${hoaDonDT.loaihoadon==false}"
                                                            style="margin-left: 50px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                            OFFLINE</p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Địa chỉ:</h6>
                                                        <p th:text="${hoaDonDT.diachi}"
                                                            style="margin-left: 34px; font-family: 'Times New Roman'; font-size: 15px;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Ngày tạo:</h6>
                                                        <p th:text="${ #dates.format(hoaDonDT.ngaytao, 'dd-MM-yyyy HH:mm:ss')}"
                                                            style="margin-left: 20px; font-family: 'Times New Roman'; font-size: 15px;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Ghi chú:</h6>
                                                        <p th:text="${hoaDonDT.ghichu}"
                                                            style=" margin-left: 24px;font-family: 'Times New Roman'; font-size: 15px;">
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Loại giao dịch:</h6>
                                                        <p th:text="${phuongThucTT.tenphuongthuc}"
                                                            style="margin-left: 79px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Phương thức thanh toán:</h6>
                                                        <p th:text="${phuongThucTT.mota}"
                                                            style="margin-left: 10px; font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Tên khách hàng:</h6>
                                                        <p th:text="${hoaDonDT.khachhang.nguoidung.hovaten}"
                                                            style="margin-left: 70px; font-family: 'Times New Roman'; font-size: 15px;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">Số
                                                            điện thoại:</h6>
                                                        <p th:text="${hoaDonDT.sdt}"
                                                            style="margin-left: 89px; font-family: 'Times New Roman'; font-size: 15px;">
                                                        </p>
                                                    </div>
                                                    <div class="d-flex justify-content-start">
                                                        <h6 style="font-family: 'Times New Roman'; font-weight: bold">
                                                            Ngày dự kiến nhận:</h6>
                                                        <p
                                                            style="margin-left: 48px; font-family: 'Times New Roman'; font-size: 15px;">
                                                            25/12/2024</p>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- /.card -->
                                </div>
                                <!-- /.col -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.container-fluid -->
                    </section>
                </div>
                <div class="col-lg-4 col-md-4">
                    <!--Nội dung chính chi tiet hóa đơn-->
                    <section class="content">
                        <div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h3>Chi phí đơn hàng</h3>
                                            <hr class="border border-danger border-2 opacity-50">
                                            <div class="d-flex justify-content-between">
                                                <h6 style="font-family: 'Times New Roman'; font-weight: bold">Tổng tiền
                                                    đơn hàng:</h6>
                                                <p th:text="${#numbers.formatDecimal(hoaDonDT.tongtien, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                    style="font-family: 'Times New Roman'; font-size: 16px; color: red">
                                                </p>
                                            </div>
                                            <div class="d-flex justify-content-between">
                                                <h6 style="font-family: 'Times New Roman'; font-weight: bold">Phí giao
                                                    hàng:</h6>
                                                <p th:text="${#numbers.formatDecimal(hoaDonDT.phivanchuyen, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                    style="font-family: 'Times New Roman'; font-size: 16px;">
                                                </p>
                                            </div>
                                            <div class="d-flex justify-content-between">
                                                <h6 style="font-family: 'Times New Roman'; font-weight: bold">Phiếu giảm
                                                    giá
                                                    :</h6>
                                                <p th:text="${#numbers.formatDecimal(phieuGiamCT.phieugiamgia.giatrigiamtoida, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                    style="font-family: 'Times New Roman'; font-size: 16px;">
                                                </p>
                                            </div>
                                            <div class="d-flex justify-content-between">
                                                <h6 style="font-family: 'Times New Roman'; font-weight: bold">Tổng tiền
                                                    giảm
                                                    :</h6>
                                                <p th:text="${#numbers.formatDecimal(phieuGiamCT.tiengiam, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                    style="font-family: 'Times New Roman'; font-size: 16px;">
                                                </p>
                                            </div>
                                            <hr class="border border-danger border-2 opacity-50">
                                            <div class="d-flex justify-content-between">
                                                <h6 style="font-family: 'Times New Roman'; font-weight: bold">Tổng tiền
                                                    thanh toán:</h6>
                                                <p th:text="${#numbers.formatDecimal(tongTT, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                    style="font-family: 'Times New Roman'; font-size: 16px; color: red;">
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.card -->
                                </div>
                                <!-- /.col -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.container-fluid -->
                    </section>
                </div>
            </div>

            <!--Thông tin sản phẩm mua-->
            <section class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <div class="d-flex justify-content-between align-content-center">
                                        <h3>
                                            Thông tin sản phẩm đã mua
                                        </h3>
                                        <button type="button" class="btn btn-success" data-bs-toggle="modal"
                                            data-bs-target="#modalThemSanPhamHD"
                                            th:classappend="${trangThaiHienTai!=0?'disabled':''}">+ Thêm sản
                                            phẩm</button>
                                        <!--Modal thêm sản phẩm vào hóa đơn-->
                                        <!-- Modal -->
                                        <div class="modal fade" id="modalThemSanPhamHD" tabindex="-1"
                                            aria-labelledby="exampleModalThemSanPhamHD" aria-hidden="true">
                                            <div class="modal-dialog modal-xl modal-dialog-scrollable">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h3 class="modal-title fs-5" id="exampleModalThemSanPhamHD">Thêm
                                                            sản phẩm vào đơn hàng</h3>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                            aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="card-body">
                                                            <div class="d-flex justify-content-between">
                                                                <nav class="navbar bg-body-tertiary">
                                                                    <form>
                                                                        <div class="d-flex align-items-center">
                                                                            <input class="form-control me-2"
                                                                                type="search" placeholder="Search"
                                                                                aria-label="Search"
                                                                                style="width: 800px;">
                                                                            <button class="btn btn-outline-success"
                                                                                type="submit"
                                                                                style="margin-right: 35px; margin-left: 35px;">Search</button>
                                                                            <button class="btn btn-outline-danger"
                                                                                type="submit">Làm mới</button>
                                                                        </div>
                                                                        <!--Bộ lọc-->
                                                                        <div class="align-items-center">
                                                                            <div class="d-flex justify-content-around">
                                                                                <div>
                                                                                    <label class="col-form-label">Chất
                                                                                        liệu</label>
                                                                                    <select class="form-select"
                                                                                        style="width: 120px;">
                                                                                        <option selected disabled
                                                                                            value="">Choose...</option>
                                                                                        <option>...</option>
                                                                                    </select>
                                                                                </div>
                                                                                <div>
                                                                                    <label class="col-form-label">Thương
                                                                                        hiệu</label>
                                                                                    <select class="form-select"
                                                                                        style="width: 120px;">
                                                                                        <option selected disabled
                                                                                            value="">Choose...</option>
                                                                                        <option>...</option>
                                                                                    </select>
                                                                                </div>
                                                                                <div>
                                                                                    <label class="col-form-label">Đế
                                                                                        giày</label>
                                                                                    <select class="form-select"
                                                                                        style="width: 120px;">
                                                                                        <option selected disabled
                                                                                            value="">Choose...</option>
                                                                                        <option>...</option>
                                                                                    </select>
                                                                                </div>
                                                                                <div>
                                                                                    <label class="col-form-label">Kích
                                                                                        cỡ</label>
                                                                                    <select class="form-select"
                                                                                        style="width: 120px;">
                                                                                        <option selected disabled
                                                                                            value="">Choose...</option>
                                                                                        <option>...</option>
                                                                                    </select>
                                                                                </div>
                                                                                <div>
                                                                                    <label class="col-form-label">Màu
                                                                                        sắc</label>
                                                                                    <select class="form-select"
                                                                                        style="width: 120px;">
                                                                                        <option selected disabled
                                                                                            value="">Choose...</option>
                                                                                        <option>...</option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="d-flex justify-content-evenly">
                                                                            <div>
                                                                                <label class="col-form-label">Thể
                                                                                    loại</label>
                                                                                <select class="form-select"
                                                                                    style="width: 120px;">
                                                                                    <option selected disabled value="">
                                                                                        Choose...</option>
                                                                                    <option>...</option>
                                                                                </select>
                                                                            </div>
                                                                            <div>
                                                                                <label class="col-form-label">Giới
                                                                                    tính</label>
                                                                                <select class="form-select"
                                                                                    style="width: 120px;">
                                                                                    <option selected disabled value="">
                                                                                        Choose...</option>
                                                                                    <option>...</option>
                                                                                </select>
                                                                            </div>
                                                                            <div>
                                                                                <label class="col-form-label">Khoảng
                                                                                    giá</label>
                                                                                <div>
                                                                                    <input type="range" min="1"
                                                                                        max="100" value="50"
                                                                                        style="width: 200px;">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </nav>
                                                            </div>
                                                            <br>
                                                            <table class="table table-bordered table-hover text-center">
                                                                <thead class="table table-danger">
                                                                    <tr>
                                                                        <th>STT</th>
                                                                        <th>Ảnh sản phẩm</th>
                                                                        <th>Tên sản phẩm</th>
                                                                        <th>Số lượng</th>
                                                                        <th>Kích cỡ</th>
                                                                        <th>Màu sắc</th>
                                                                        <th>Trạng thái</th>
                                                                        <th>Thao tác</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>1</td>
                                                                        <td>Thêm vào nhá</td>
                                                                        <td>Tuan Anh</td>
                                                                        <td>56</td>
                                                                        <td>41</td>
                                                                        <td>Vàng</td>
                                                                        <td>
                                                                            <p
                                                                                style="font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: green; padding: 3px 15px 3px 15px; color: white;">
                                                                                Đang kinh doanh</p>
                                                                        </td>
                                                                        <td>
                                                                            <button type="button"
                                                                                class="btn btn-warning">Chọn</button>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>1</td>
                                                                        <td>Thêm vào nhá</td>
                                                                        <td>Tuan Anh</td>
                                                                        <td>56</td>
                                                                        <td>41</td>
                                                                        <td>Vàng</td>
                                                                        <td>
                                                                            <p
                                                                                style="font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: green; padding: 3px 15px 3px 15px; color: white;">
                                                                                Đang kinh doanh</p>
                                                                        </td>
                                                                        <td>
                                                                            <button type="button"
                                                                                class="btn btn-warning">Chọn</button>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>1</td>
                                                                        <td>Thêm vào nhá</td>
                                                                        <td>Tuan Anh</td>
                                                                        <td>56</td>
                                                                        <td>41</td>
                                                                        <td>Vàng</td>
                                                                        <td>
                                                                            <p
                                                                                style="font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: green; padding: 3px 15px 3px 15px; color: white;">
                                                                                Đang kinh doanh</p>
                                                                        </td>
                                                                        <td>
                                                                            <button type="button"
                                                                                class="btn btn-warning">Chọn</button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <br>
                                                            <nav aria-label="Page navigation example">
                                                                <ul class="pagination">
                                                                    <li class="page-item"><a class="page-link"
                                                                            href="#">Previous</a></li>
                                                                    <li class="page-item"><a class="page-link"
                                                                            href="#">1</a></li>
                                                                    <li class="page-item"><a class="page-link"
                                                                            href="#">Next</a></li>
                                                                </ul>
                                                            </nav>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-bs-dismiss="modal">Hủy</button>
                                                        <button type="button" class="btn btn-primary">OK</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--Kết thúc Modal thêm sản phẩm vào hóa đơn-->
                                    </div>
                                    <hr class="border border-danger border-2 opacity-50">
                                    <div class="card-body">
                                        <table class="table align-middle table-bordered table-hover">
                                            <thead class="table table-danger">
                                                <tr>
                                                    <th>STT</th>
                                                    <th>Ảnh sản phẩm</th>
                                                    <th>Thông tin sản phẩm</th>
                                                    <th>Màu sắc</th>
                                                    <th>Số lượng</th>
                                                    <th>Tổng tiền</th>
                                                    <th>Trạng thái</th>
                                                    <th>Thao tác</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="a:${pageSPHD}">
                                                    <td th:text="${aStat.index+1}"></td>
                                                    <td>
                                                        <img src="a.sanphamchitiet.anh.get(0).getTenanh()" alt=""
                                                            style="height: 100px; width: 100px;">
                                                    </td>
                                                    <td>
                                                        <p th:text="${a.sanphamchitiet.sanpham.tensanpham}"
                                                            style="font-family: 'Times New Roman'; font-size: 15px; font-weight: bold;">
                                                            ></p>
                                                        <p th:text="${a.giasanpham}"
                                                            style="font-family: 'Times New Roman'; font-size: 15px; color: red;font-weight: bold;">
                                                            ></p>
                                                        <p th:text="${'Size: '+a.sanphamchitiet.kichco.ten}"
                                                            style="font-family: 'Times New Roman'; font-size: 15px;font-weight: bold;">
                                                            ></p>
                                                    </td>
                                                    <td th:text="${a.sanphamchitiet.mausac.ten}"></td>

                                                    <td><input class="form-control form-control-sm" type="number"
                                                            aria-label=".form-control-sm example" style="width: 100px;"
                                                            th:value="${a.soluong}" min="1" max="100"></td>

                                                    <td th:text="${#numbers.formatDecimal(a.giasanpham*a.soluong, 0, 'COMMA', 0, 'POINT')+'&#x20ab;'}"
                                                        style="color: red;">
                                                    </td>
                                                    <td>
                                                        <p style="font-family: 'Times New Roman'; font-size: 15px; border-radius: 14px; background-color: #007bff; padding: 3px 15px 3px 15px; color: white;"
                                                            th:text="${a.trangthai==true?'thành công':'thất bại'}"></p>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-danger"><i
                                                                class="bi bi-trash3"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <br>
                                        <nav aria-label="Page navigation example" th:if="${pageSPHD.totalPages>1}">
                                            <ul class="pagination">
                                                <li class="page-item" th:if="${pageSPHD.number>0}"><a class="page-link"
                                                        th:href="@{'?pageSP='+${pageSPHD.number-1}}">Previous</a>
                                                </li>
                                                <li class="page-item"
                                                    th:each="i:${#numbers.sequence(1,pageSPHD.totalPages)}"
                                                    th:classappend="${pageNo==i-1?'active':''}"><a class="page-link"
                                                        th:href="@{'?pageSP='+${i-1}}" th:text="${i}"></a></li>
                                                <li class="page-item" th:if="${pageSPHD.number<pageSPHD.totalPages-1}">
                                                    <a class="page-link"
                                                        th:href="@{'?pageSP='+${pageSPHD.number+1}}">Next</a>
                                                </li>
                                            </ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card -->
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.container-fluid -->
            </section>
        </div>
        <!--end -->
        <nav th:replace="~{/layoutadmin/footer.html}"></nav>

    </div>

    <!-- ./wrapper -->

    <!-- jQuery -->
    <script src="../plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button)
    </script>
    <!-- Bootstrap 4 -->
    <script src="../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="../plugins/chart.js/Chart.min.js"></script>
    <!-- Sparkline -->
    <script src="../plugins/sparklines/sparkline.js"></script>
    <!-- JQVMap -->
    <script src="../plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="../plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="../plugins/jquery-knob/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="../plugins/moment/moment.min.js"></script>
    <script src="../plugins/daterangepicker/daterangepicker.js"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="../plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <!-- Summernote -->
    <script src="../plugins/summernote/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="../plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="../dist/js/adminlte.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../dist/js/demo.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="../dist/js/pages/dashboard.js"></script>

    <script>
        function getStatusName(number) {
            // Trả về tên trạng thái dựa trên số trạng thái đã tạo
            switch (number) {
                case 1:
                    return "Chờ xác nhận";
                case 2:
                    return "Đã xác nhận";
                case 3:
                    return "Chờ vận chuyển";
                case 4:
                    return "Đã xác nhận";
                case 5:
                    return "Chờ vận chuyển";
                case 6:
                    return "Đang vận chuyển";
                case 7:
                    return "Đã thanh toán";
                case 8:
                    return "Thành công";
                default:
                    return "Trạng thái mới " + number;
            }
        }

        function getDateTime() {
            var now = new Date();
            var date = now.toLocaleDateString('en-US');
            var time = now.toLocaleTimeString('en-US');
            return date + ' ' + time;
        }

        function getStatusIcon(number) {
            // Trả về đường dẫn của biểu tượng hình ảnh tương ứng với trạng thái
            switch (number) {
                case 1:
                    return "https://static.vecteezy.com/system/resources/previews/000/423/742/original/vector-truck-icon.jpg";
                case 2:
                    return "https://png.pngtree.com/png-vector/20190725/ourlarge/pngtree-invoice-icon-design-vector-png-image_1586820.jpg";
                case 3:
                    return "https://static.vecteezy.com/system/resources/previews/000/423/742/original/vector-truck-icon.jpg";
                case 4:
                    return "https://png.pngtree.com/png-vector/20190725/ourlarge/pngtree-invoice-icon-design-vector-png-image_1586820.jpg";
                case 5:
                    return "https://static.vecteezy.com/system/resources/previews/000/423/742/original/vector-truck-icon.jpg";
                case 6:
                    return "https://static.vecteezy.com/system/resources/previews/000/423/742/original/vector-truck-icon.jpg";
                case 7:
                    return "https://png.pngtree.com/png-vector/20190725/ourlarge/pngtree-invoice-icon-design-vector-png-image_1586820.jpg";
                case 8:
                    return "https://png.pngtree.com/png-vector/20190725/ourlarge/pngtree-invoice-icon-design-vector-png-image_1586820.jpg";
                default:
                    return "https://png.pngtree.com/png-vector/20190725/ourlarge/pngtree-invoice-icon-design-vector-png-image_1586820.jpg";
            }
        }
    </script>
    <script th:inline="javascript">
        var cities = /*[[${cities}]]*/[];
    </script>
    <script>
        function getDiaChi() {
            var selectedProvince = document.getElementById("tinhthanhpho").value;
            var quanhuyenSelect = document.getElementById("quanhuyen");

            // Lấy thông tin về tỉnh/thành phố đã chọn từ biến cities
            var selectedProvinceData = cities.find(function (city) {
                return city.name === selectedProvince;
            });

            if (selectedProvinceData) {
                selectedProvinceData.districts.forEach(function (district) {
                    var option = document.createElement("option");
                    option.text = district.name;
                    option.value = district.name;
                    quanhuyenSelect.appendChild(option);
                });
            }
        }

        function getQuanHuyen() {
            var selectedDistrict = document.getElementById("quanhuyen").value;
            var xaphuongSelect = document.getElementById("xaphuong");

            // Lấy thông tin về tỉnh/thành phố đã chọn từ biến cities
            var selectedProvince = document.getElementById("tinhthanhpho").value;
            var selectedProvinceData = cities.find(function (city) {
                return city.name === selectedProvince;
            });

            if (selectedProvinceData) {
                var selectedDistrictData = selectedProvinceData.districts.find(function (district) {
                    return district.name === selectedDistrict;
                });

                if (selectedDistrictData) {
                    selectedDistrictData.wards.forEach(function (ward) {
                        var option = document.createElement("option");
                        option.text = ward.name;
                        option.value = ward.name;
                        xaphuongSelect.appendChild(option);
                    });
                }
            }
        }

    </script>
</body>

</html>