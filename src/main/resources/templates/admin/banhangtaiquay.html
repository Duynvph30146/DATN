<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<nav th:replace="~{/layoutadmin/head.html}"></nav>
<style>
    .checkbox-red:checked {
        background-color: red;
    }

    /* CSS cho tab */
    .tab {
        display: none;
        /* Ẩn tất cả các tab khi ban đầu */
    }

    /* Định dạng các tab */
    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        position: relative;
        /* Đặt vị trí của nút xóa */
    }

    /* Tạo nội dung của mỗi tab */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
    }

    /* Biểu tượng xóa */
    .close {
        position: absolute;
        top: 0;
        right: 0;
        color: red;
        /* Màu của biểu tượng xóa */
        font-size: 20px;
        cursor: pointer;
        display: none;
        /* Ẩn ban đầu */
    }

    /* Hiển thị biểu tượng xóa khi rê chuột vào tab */
    .tab button:hover .close {
        display: block;
    }

    /* CSS cho tab được chọn */
    .tab button.active {
        border-bottom: 2px solid red;
        /* Đường viền dưới màu đỏ cho tab khi được chọn */
    }
</style>
<script src="../sweetalert2/dist/sweetalert2.min.js/"></script>
<link rel="stylesheet" type="text/css" href="../sweetalert2/dist/sweetalert2.min.css">

<body class="hold-transition sidebar-mini" style="font-family: 'Bahnschrift'">
    <div class="wrapper">
        <!-- Navbar -->
        <nav th:replace="~{/layoutadmin/navbar.html}"></nav>
        <!-- End navbar -->

        <!--Menu bán hàng -->
        <nav th:replace="~{/layoutadmin/menu.html}"></nav>
        <!--end-->


        <!--Nội dung2 -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                    class="bi bi-bookmark-dash-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5M6 6a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z" />
                                </svg>
                                BÁN HÀNG TẠI QUẦY
                            </h1>
                        </div>
                        <!--                    <div class="col-sm-6">-->
                        <!--                        <ol class="breadcrumb float-sm-right">-->
                        <!--                            <li class="breadcrumb-item"><a href="#">Home</a></li>-->
                        <!--                            <li class="breadcrumb-item active">BÁN HÀNG TẠI QUẦY</li>-->
                        <!--                        </ol>-->
                        <!--                    </div>-->
                    </div>
                </div><!-- /.container-fluid -->
            </section>
            <!-- Nút để tạo hóa đơn -->
            <button class="btn" style="margin-left: 1100px;background-color: rgb(249,72,42);color: white"
                onclick="taoNewHD()">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus"
                    viewBox="0 0 16 16">
                    <path
                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
                </svg>
                Tạo hóa đơn
            </button>
            <p></p>
            <!-- Container cho các tab -->
            <div class="tab" id="tabContainer">
                <!-- Các tab sẽ được tạo ra bởi JavaScript -->
            </div>
            <div class="d-flex">
                <h5 style="margin-left: 25px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        class="bi bi-bucket" viewBox="0 0 16 16">
                        <path
                            d="M2.522 5H2a.5.5 0 0 0-.494.574l1.372 9.149A1.5 1.5 0 0 0 4.36 16h7.278a1.5 1.5 0 0 0 1.483-1.277l1.373-9.149A.5.5 0 0 0 14 5h-.522A5.5 5.5 0 0 0 2.522 5m1.005 0a4.5 4.5 0 0 1 8.945 0zm9.892 1-1.286 8.574a.5.5 0 0 1-.494.426H4.36a.5.5 0 0 1-.494-.426L2.58 6h10.838z" />
                    </svg>
                    Sản phẩm
                </h5>
                <a class="btn btn-dark" style="margin-left: 710px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        class="bi bi-qr-code-scan" viewBox="0 0 16 16">
                        <path
                            d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5M.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5M4 4h1v1H4z" />
                        <path d="M7 2H2v5h5zM3 3h3v3H3zm2 8H4v1h1z" />
                        <path d="M7 9H2v5h5zm-4 1h3v3H3zm8-6h1v1h-1z" />
                        <path
                            d="M9 2h5v5H9zm1 1v3h3V3zM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8zm2 2H9V9h1zm4 2h-1v1h-2v1h3zm-4 2v-1H8v1z" />
                        <path d="M12 9h2V8h-2z" />
                    </svg>
                    Quét QR Sản phẩm
                </a>
                <a class="btn" style="margin-left: 20px;background-color: rgb(249,72,42);color: white"
                    data-bs-toggle="modal" data-bs-target="#modalThemSanPhamHD5">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                        class="bi bi-plus" viewBox="0 0 16 16">
                        <path
                            d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
                    </svg>
                    Thêm sản phẩm
                </a>
            </div>
            <hr <!-- Nội dung của các tab -->
            <div id="GhiDeTab">

            </div>
            <!-- các modal -->

            <!--         
    thay đổi thông tin hóa đơn -->
            <div class="modal fade" id="modalThayDoiHoaDon5" tabindex="-1" aria-labelledby="exampleModalThayDoiHoaDon5"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title fs-5" id="exampleModalThayDoiHoaDon5">Thanh toán</h3>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div>
                                    Số tiền
                                    <input type="text" class="form-control">
                                </div>
                                <br>
                                <div class="d-flex">
                                    <a class="btn"
                                        style="width: 217px;background-color: rgb(249,72,42);color: white">Tiền
                                        mặt</a>
                                    <a style="margin-left: 15px;width: 217px;background-color: rgb(249,72,42);color: white"
                                        class="btn">Chuyển khoản</a>
                                </div>
                                <br>
                                <div class="d-flex justify-content-between">
                                    <p>
                                        Tiền thiếu
                                    </p>
                                    <p style="color: red;font-weight: bold">
                                        5,500,000đ
                                    </p>
                                </div>

                                <table style="width: 100%" class="table-bordered table-hover text-center">
                                    <thead style="height: 50px">
                                        <tr>
                                            <th>STT</th>
                                            <th>Mã giao dịch</th>
                                            <th>Số tiền</th>
                                            <th>Phương thức</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>
                                                <a style="color: rgb(249,72,42)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                        fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                                        <path
                                                            d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                                                    </svg>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <br>
                                <div class="d-flex justify-content-between">
                                    <p>
                                        Khách thanh toán
                                    </p>
                                    <p style="color: red;font-weight: bold">
                                        0đ
                                    </p>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <p>
                                        Tiền thiếu
                                    </p>
                                    <p style="color: #0a53be;font-weight: bold">
                                        5,500,000đ
                                    </p>
                                </div>

                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Hủy</button>
                            <button type="button" class="btn"
                                style="background-color: rgb(249,72,42);color: white">OK</button>

                        </div>
                    </div>
                </div>
            </div>

            <!-- modal thay đổi nhân viên -->

            <div class="modal fade" id="modalChuyenNhanVien5" tabindex="-1"
                aria-labelledby="exampleModalChuyenNhanVien5" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h class="modal-title fs-5" id="exampleModalChuyenNhanVien5">Khách hàng
                            </h>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="card-body">
                                <nav class="navbar bg-body-tertiary">
                                    <div class="container-fluid">
                                        <form class="d-flex" role="search">
                                            <input class="form-control me-2" type="search"
                                                placeholder="Tìm kiếm theo tên và số điện thoại" aria-label="Search"
                                                style="width: 900px">
                                            <a class="btn btn-outline-success" type="submit"
                                                style="margin-left: 20px">Tìm
                                                kiếm</a>
                                        </form>
                                    </div>
                                </nav>


                                <table style="width: 100%" class="table-bordered table-hover text-center">
                                    <thead style="background-color:rgb(249,72,42);height: 50px">
                                        <tr>
                                            <th>STT</th>
                                            <th>Ảnh</th>
                                            <th>Tên khách hàng</th>
                                            <th>Email</th>
                                            <th>Số điện thoại</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>
                                                <a style="color: rgb(249,72,42)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                        fill="currentColor" class="bi bi-check2-circle"
                                                        viewBox="0 0 16 16">
                                                        <path
                                                            d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0" />
                                                        <path
                                                            d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z" />
                                                    </svg>
                                                </a>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                                <br>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Hủy</button>
                            <button type="button" class="btn"
                                style="background-color: rgb(249,72,42);color: white">OK</button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- thêm sản phẩm vào hóa đơn -->

            <div class="modal fade" id="modalThemSanPhamHD5" tabindex="-1" aria-labelledby="exampleModalThemSanPhamHD5"
                aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title fs-5" id="exampleModalThemSanPhamHD5">Thêm
                                sản phẩm vào hóa đơn</h3>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <nav class="navbar bg-body-tertiary">
                                        <form>
                                            <div class="d-flex align-items-center">
                                                <input class="form-control me-2" type="search" placeholder="Search"
                                                    aria-label="Search" style="width: 800px;">
                                                <button class="btn btn-outline-success" type="submit"
                                                    style="margin-right: 35px; margin-left: 35px;">Search
                                                </button>
                                                <button class="btn btn-outline-danger" type="submit">Làm mới
                                                </button>
                                            </div>
                                            <!--Bộ lọc-->
                                            <div class="align-items-center">
                                                <div class="d-flex justify-content-around">
                                                    <div>
                                                        <label class="col-form-label">Chất
                                                            liệu</label>
                                                        <select class="form-select" style="width: 120px;">
                                                            <option selected disabled value="">Choose...
                                                            </option>
                                                            <option>...</option>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label class="col-form-label">Thương
                                                            hiệu</label>
                                                        <select class="form-select" style="width: 120px;">
                                                            <option selected disabled value="">Choose...
                                                            </option>
                                                            <option>...</option>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label class="col-form-label">Đế
                                                            giày</label>
                                                        <select class="form-select" style="width: 120px;">
                                                            <option selected disabled value="">Choose...
                                                            </option>
                                                            <option>...</option>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label class="col-form-label">Kích
                                                            cỡ</label>
                                                        <select class="form-select" style="width: 120px;">
                                                            <option selected disabled value="">Choose...
                                                            </option>
                                                            <option>...</option>
                                                        </select>
                                                    </div>
                                                    <div>
                                                        <label class="col-form-label">Màu
                                                            sắc</label>
                                                        <select class="form-select" style="width: 120px;">
                                                            <option selected disabled value="">Choose...
                                                            </option>
                                                            <option>...</option>
                                                        </select>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="d-flex justify-content-evenly">
                                                <div>
                                                    <label class="col-form-label">Thể
                                                        loại</label>
                                                    <select class="form-select" style="width: 120px;">
                                                        <option selected disabled value="">
                                                            Choose...
                                                        </option>
                                                        <option>...</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label class="col-form-label">Giới
                                                        tính</label>
                                                    <select class="form-select" style="width: 120px;">
                                                        <option selected disabled value="">
                                                            Choose...
                                                        </option>
                                                        <option>...</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label class="col-form-label">Khoảng
                                                        giá</label>
                                                    <div>
                                                        <input type="range" min="1" max="100" value="50"
                                                            style="width: 200px;">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </nav>
                                </div>
                                <br>
                                <table style="width: 100%" class="table-bordered table-hover text-center">
                                    <thead style="background-color:rgb(249,72,42);height: 50px">
                                        <tr>
                                            <th>STT</th>
                                            <th>Ảnh</th>
                                            <th>Tên sản phẩm</th>
                                            <th>Giá bán</th>
                                            <th>Số lượng</th>
                                            <th>Kích cỡ</th>
                                            <th>Màu sắc</th>
                                            <th>Trạng thái</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>abc</td>
                                            <td>
                                                <a style="color: rgb(249,72,42)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
                                                        fill="currentColor" class="bi bi-check2-circle"
                                                        viewBox="0 0 16 16">
                                                        <path
                                                            d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0" />
                                                        <path
                                                            d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z" />
                                                    </svg>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Hủy
                            </button>
                            <button type="button" class="btn"
                                style="background-color: rgb(249,72,42);color: white">OK</button>
                        </div>
                    </div>
                </div>
            </div>


            <!--</div>-->
            <!--end-->
            <div>
                <hr>
                <div class="d-flex">
                    <h5 style="margin-left: 820px">Tổng tiền:</h5>
                    <h5 style="margin-left: 25px;color: red">5,000,000đ</h5>
                </div>
                <br>
                <div class="d-flex">
                    <h5 class="me-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-person" viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                        </svg>
                        Tài khoản
                    </h5>
                    <a class="btn ms-auto" style="background-color: rgb(249,72,42);color: white" data-bs-toggle="modal"
                        data-bs-target="#modalChuyenNhanVien5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-plus" viewBox="0 0 16 16">
                            <path
                                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
                        </svg>
                        Chọn tài khoản
                    </a>
                </div>
                <hr>
                <div class="d-flex">
                    <p style="margin-left: 20px">Tên khách hàng:</p>
                    <p style="margin-left: 20px">Nguyễn Văn Duy</p>
                </div>
                <div class="d-flex">
                    <p style="margin-left: 20px">Số điện thoại:</p>
                    <p style="margin-left: 20px">0123456789</p>
                </div>
                <div class="d-flex">
                    <p style="margin-left: 20px">Email:</p>
                    <p style="margin-left: 20px">duynvph30146@fpt.edu.vn</p>
                </div>
                <br>
                <div class="d-flex">
                    <h5 style="margin-left: 25px">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-person" viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                        </svg>
                        Khách hàng
                    </h5>
                    <button class="btn" style="margin-left: 890px;background-color: rgb(249,72,42);color: white">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-plus" viewBox="0 0 16 16">
                            <path
                                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
                        </svg>
                        Chọn địa chỉ
                    </button>
                </div>
                <hr>
                <div class="row">
                    <div class="col-7">
                        <p>
                            <input type="text" class="form-control" placeholder="Nhập họ và tên">
                        </p>
                        <p>
                            <input type="text" class="form-control" placeholder="Nhập số điện thoại">
                        </p>
                        <p>
                            <input type="text" class="form-control" placeholder="Nhập email">
                        </p>
                        <p>
                            <input type="text" class="form-control" placeholder="Nhập địa chỉ">
                        </p>
                        <p class="d-flex">
                            <select class="form-control">
                                <option>Chọn tỉnh</option>
                                <option>Hà Nội</option>
                                <option>Hải Phòng</option>
                            </select>
                            <select style="margin-left: 20px" class="form-control">
                                <option>Chọn quận</option>
                                <option>Hà Nội</option>
                                <option>Hải Phòng</option>
                            </select>
                            <select style="margin-left: 20px" class="form-control">
                                <option>Chọn xã</option>
                                <option>Hà Nội</option>
                                <option>Hải Phòng</option>
                            </select>
                        </p>
                        <p>
                            <textarea class="form-control" placeholder="Ghi chú"></textarea>
                        </p>
                    </div>
                    <div class="col-5">
                        <h5>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                class="bi bi-bucket" viewBox="0 0 16 16">
                                <path
                                    d="M2.522 5H2a.5.5 0 0 0-.494.574l1.372 9.149A1.5 1.5 0 0 0 4.36 16h7.278a1.5 1.5 0 0 0 1.483-1.277l1.373-9.149A.5.5 0 0 0 14 5h-.522A5.5 5.5 0 0 0 2.522 5m1.005 0a4.5 4.5 0 0 1 8.945 0zm9.892 1-1.286 8.574a.5.5 0 0 1-.494.426H4.36a.5.5 0 0 1-.494-.426L2.58 6h10.838z" />
                            </svg>
                            Thông tin thanh toán
                        </h5>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Khách thanh toán:
                                <a class="btn" data-bs-toggle="modal" data-bs-target="#modalThayDoiHoaDon5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                        class="bi bi-credit-card" viewBox="0 0 16 16">
                                        <path
                                            d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z" />
                                        <path
                                            d="M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z" />
                                    </svg>
                                </a>
                            </p>
                            <p>0đ</p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Mã giảm giá:</p>
                            <p>JFKSIFNH15</p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Trả sau:</p>
                            <p class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="customSwitch8">
                                <label class="custom-control-label" for="customSwitch"></label>
                            </p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Giao hàng:</p>
                            <p class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="customSwitch9">
                                <label class="custom-control-label" for="customSwitch1"></label>
                            </p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Tiền hàng:</p>
                            <p>
                                <input type="number" style="width: 180px;height: 30px" class="form-control">
                            </p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Phí vận chuyển:</p>
                            <p style="font-weight: bold">2,500,000đ</p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Giảm giá:</p>
                            <p style="font-weight: bold">300,000đ</p>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <p style="font-weight: bold">Tổng tiền:</p>
                            <p style="color: red;font-weight: bold">2,200,000đ</p>
                        </div>
                        <p>
                            <button style="margin-left: 332px" class="btn btn-dark">Xác nhận thanh toán</button>
                        </p>

                    </div>

                </div>
            </div>
        </div>

    </div>

    <nav th:replace="~{/layoutadmin/footer.html}"></nav>
    <!--script-->
    <nav th:replace="~{/layoutadmin/script.html}"></nav>
    <!--nội dung 2-->


    <script>
        // JavaScript để tạo tab mới
        const urlPage = `/ban-hang-tai-quay/hoa-don-cho`;
        fetch(urlPage)
            .then(function (a) {
                return a.json();
            })
            .then(function (b) {
                var htmlDiv = '';
                for (const hd of b) {
                    loadTab(hd.mahoadon);
                    htmlDiv += `
                        <div id="${hd.mahoadon}" class="tabcontent">

                        </div>`;
                }
                document.getElementById('GhiDeTab').innerHTML = htmlDiv;
                openInvoice(event, b[0].mahoadon);
            })


        function loadTab(inputs) {

            var tabContainer = document.getElementById("tabContainer");
            tabContainer.style.display = "inline-block"; // Hiển thị các tab khi nhấn vào nút "Tạo Hóa đơn"

            var tabId = inputs;

            var button = document.createElement("button");
            button.className = "tablinks";
            button.textContent = "Hóa đơn: " + inputs;
            button.setAttribute("data-tab", tabId); // Thêm thuộc tính dữ liệu để liên kết tab với nội dung của nó
            button.setAttribute("onclick", "openInvoice(event, '" + tabId + "')");

            // Tạo biểu tượng xóa
            var closeIcon = document.createElement("span");
            closeIcon.innerHTML = "&times;"; // Thêm biểu tượng xóa (dấu x)
            closeIcon.className = "close";
            closeIcon.setAttribute("onclick", "closeTab('" + tabId + "')"); // Gọi hàm closeTab khi được nhấn

            button.appendChild(closeIcon); // Thêm biểu tượng xóa vào tab

            tabContainer.appendChild(button);
        }

        //tạo hóa đơn mới
        function taoNewHD() {
            var urlPage = `/ban-hang-tai-quay/hoa-don-cho`;
            fetch(urlPage)
                .then(function (a) {
                    return a.json();
                })
                .then(function (b) {
                    if (b.length == 5) {
                        showToast();
                    } else {
                        var urlTao = `/ban-hang-tai-quay/tao-don-cho`;
                        fetch(urlTao)
                            .then(function (a) {
                                return a.json();
                            })
                            .then(function (b) {

                                document.getElementById("tabContainer").innerHTML = '';
                                for (var i = 1; i <= b.length; i++) {

                                    loadTab(i);

                                }


                            })

                    }
                })
        }

        // JavaScript để mở tab
        function openInvoice(evt, invoiceName) {
            var i, tabcontent, tablinks;

            // Ẩn tất cả các tabcontent trước khi hiển thị tab được chọn
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Loại bỏ class "active" từ tất cả các tablinks
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active"); // Loại bỏ lớp "active" từ tất cả các tab
            }
            //tạo mã html cho hóa đơn được gọi


            const maHD = invoiceName;
            const urlGetListSP = `/ban-hang-tai-quay/tim-coutSP-theoHD?maHD=${maHD}`;
            fetch(urlGetListSP)
                .then(function (a) {
                    return a.json();
                })
                .then(function (b) {
                    var html = '';
                    var htmlTR = '';
                    if (b.length < 1) {
                        html = `
<div class="tab-pane fade show active text-center fw-bold"
                                            id="tatCaHoaDon-tab-pane" role="tabpanel" aria-labelledby="tatCaHoaDon-tab"
                                            tabindex="0">
                                            <br>
                                            <img src="../dist/img/no_product.png" width="500px" height="300px">
                                            <h3 class="text text-danger"><i>Danh sách sản phẩm hiện đang trống!! <i
                                                        class="bi bi-emoji-tear"></i>!</i></h3>
                                        </div>`;
                    }
                    if (b.length > 0) {
                        var stt = 0;
                        for (const hd of b) {
                            stt++;
                            htmlTR += `
                            <tr>
            <td class="text-center" style="vertical-align: middle;">
                <input type="checkbox" class="form-check-input checkbox checkbox-red">
                <span style="margin-left: 7px">${stt}</span>
            </td>
            <td style="vertical-align: middle;">
                <img src="../dist/img/bong2.jpg" width="100px" height="100px" />
            </td>
            <td style="vertical-align: middle;">
                <p style="font-weight: bold">${hd.sanphamchitiet.sanpham.tensanpham}</p>
                <p style="color: red;font-weight: bold">${hd.giasanpham.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</p>
                <p> Size: ${hd.sanphamchitiet.kichco.ten}</p>
            </td>
            <td style="vertical-align: middle;">
                <input class="form-control" style="width: 90px;height: 30px" type="number" value="5">
            </td>
            <td style="color: red;font-weight: bold;vertical-align: middle;">2,500,000đ</td>
            <td style="vertical-align: middle;">
                <a style="color: rgb(249,72,42)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                        class="bi bi-trash3" viewBox="0 0 16 16">
                        <path
                            d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                    </svg>
                </a>
            </td>
        </tr>
                            `;
                        }



                        html = `
<div class="tab-pane fade show active text-center fw-bold"
id="tatCaHoaDon-tab-pane" role="tabpanel" aria-labelledby="tatCaHoaDon-tab"
tabindex="0">
<table style="width: 100%" class="table">
    <thead style="height: 50px">
        <tr>
            <th>STT</th>
            <th>Ảnh</th>
            <th>Sản phẩm</th>
            <th>Số lượng</th>
            <th>Tổng tiền</th>
            <th>Thao tác</th>
        </tr>
    </thead>
    <tbody>`+ htmlTR + `

    </tbody>
</table>
</div>`;
                    }
                    document.getElementById(invoiceName).innerHTML = html;
                })


            // Hiển thị nội dung của tab được chọn và thêm class "active" cho tab đó

            document.getElementById(invoiceName).style.display = "block";
            evt.currentTarget.classList.add("active"); // Thêm lớp "active" cho tab được chọn
        }

        // JavaScript để đóng tab
        function closeTab(tabId) {
            var tabContent = document.getElementById(tabId);
            if (tabContent) {
                tabContent.parentNode.removeChild(tabContent); // Xóa nội dung tab
                var tabButton = document.querySelector("[data-tab='" + tabId + "']");
                if (tabButton) {
                    tabButton.parentNode.removeChild(tabButton); // Xóa tab button từ container
                }
                numberOfInvoices--; // Giảm số lượng tab đã tạo
            }
        }
        ;

        // Hàm để hiển thị thông báo Toast
        function showToast() {
            const Toast = Swal.mixin({
                toast: true,
                position: "top-end",
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.onmouseenter = Swal.stopTimer;
                    toast.onmouseleave = Swal.resumeTimer;
                }
            });

            Toast.fire({
                icon: "error",
                title: "Bạn đã tạo tối đa 5 hóa đơn!"
            });
        }
    </script>
</body>

</html>