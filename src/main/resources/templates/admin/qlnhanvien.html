<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<nav th:replace="~{/layoutadmin/head.html}"></nav>
<body class="hold-transition sidebar-mini">
<div class="wrapper" >
    <!-- Navbar -->
    <nav th:replace="~{/layoutadmin/navbar.html}"></nav>
    <!-- End navbar -->

    <!--Menu bán hàng -->
    <nav th:replace="~{/layoutadmin/menu.html}"></nav>
    <!--end-->

    <!--Nội dung -->
    <div class="content-wrapper"  id="container">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                 class="bi bi-bookmark-dash-fill" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                      d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5M6 6a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z"/>
                            </svg>
                            QUẢN LÝ TÀI KHOẢN NHÂN VIÊN
                        </h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right" >
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active">QUẢN LÝ TÀI KHOẢN NHÂN VIÊN</li>
                        </ol>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>
        <!---filter-->
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <form  th:action="@{/timkiem}" id="myForm" method="get" th:object="${nds}">
                                <h3 class="card-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
                                        <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"/>
                                    </svg>
                                    Bộ lọc
                                </h3>
                                <br>
                                    <hr class="border border-danger border-2 opacity-50">
<!--                                    <form th:action="@{loc}" method="get" th:object="${hdcustom}">-->
                                        <div class="row g-3">
                                            <div class=" align-items-center col-lg-6 col-md-6">
                                                <div class="col-auto">
                                                    <label class="col-form-label">Tìm kiếm:</label>
                                                </div>
                                                <div class="col-auto">
                                                    <input th:field="*{key}" type="text" class="form-control"
                                                           placeholder="Nhập tên hoặc sđt">
                                                </div>
                                            </div>
                                            <div class="align-items-center col-lg-6 col-md-6">
                                                <div class="col-auto">
                                                    <label class="col-form-label">Trạng thái nhân viên:</label>
                                                </div>
                                                <div class="col-auto">
                                                    <select class="form-control" th:field="*{trangThai}">
<!--                                                        <option value="null">Tất cả</option>-->
                                                        <option value="true">Làm việc</option>
                                                        <option value="false">Nghỉ làm</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class=" align-items-center col-lg-6 col-md-6">
                                                <div class="col-auto">
                                                    <label class="col-form-label">Từ:</label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="date" class="form-control" th:field="*{batdau}" th:value="${null}">
<!--                                                    <i th:if="${errdate==1}" class="text-danger">Ngày bắt đầu không lớn-->
<!--                                                        hơn ngày kết thúc!!</i>-->
                                                </div>
                                            </div>
                                            <div class=" align-items-center col-lg-6 col-md-6">
                                                <div class="col-auto">
                                                    <label class="col-form-label">Đến:</label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="date" class="form-control" th:field="*{ketthuc}">
                                                    <p th:if="${#fields.hasErrors('ketthuc')}" th:errors="*{ketthuc}" style="width: 500px; color: red"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                    <ul class="notifications"></ul>
                                        <div class="d-flex justify-content-between buttons"
                                             style="margin-right: 35%; margin-left: 35%;">
                                            <button type="submit" id="searchButton" class="btn btn-primary">Tìm kiếm</button>
                                            <button type="reset" class="btn btn-danger"  onclick="clearForm()">Làm mới</button>
                                        </div>
                                    </form>
                            </div>

                        </div>
                        <!-- /.card -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </section>
        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                                         class="bi bi-card-list" viewBox="0 0 16 16">
                                        <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                                        <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>
                                    </svg>
                                    Danh sách nhân viên
                                </h3>
                                <a th:href="@{/admin/addnhanvien}" class="card-title btn btn-primary" style="margin-left: 850px">Thêm nhân viên</a>
                            </div>

                            <!-- /.card-header -->
                            <div class="card-body">
                                <table id="example2" class="table table-bordered table-hover text-center">
                                    <thead class="table table-danger">
                                    <tr>
                                        <th>STT</th>
                                        <th>Mã nhân viên</th>
                                        <th>Tên nhân viên</th>
                                        <th>Số điện thoại</th>
                                        <th>Ngày sinh</th>
                                        <th>Giới tính</th>
                                        <th>Địa chỉ</th>
                                        <th>Trạng thái</th>
                                        <th>Hành động</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:if="${items1 == null || items2 == null || #lists.isEmpty(items1) || #lists.isEmpty(items2)}">
                                        <td colspan="9" class="text-center">Không có dữ liệu</td>
                                    </tr>
                                    <tr th:each="i, iterStat : ${#numbers.sequence(0, #lists.size(items2)-1)}">
                                        <td th:text="${iterStat.count}"></td>
                                        <td th:text="${items2[i].manhanvien}"></td>
                                        <td th:text="${items2[i].nguoidung.hovaten}"></td>
                                        <td th:text="${items2[i].nguoidung.sodienthoai}"></td>
                                        <td th:text="${#dates.format(items2[i].nguoidung.ngaysinh, 'dd-MM-yyyy')}"></td>
                                        <td th:text="${items2[i].nguoidung.gioitinh ? 'Nam' : 'Nữ'}"></td>
                                        <td th:text="${items1[i].tenduong + ' ' + items1[i].xaphuong + ' ' + items1[i].quanhuyen + ' ' + items1[i].tinhthanhpho}"></td>
                                        <td>
                                            <button style="border-radius: 50px"
                                                    class="btn btn-xs custom-button no-border-button"
                                                    th:classappend="${items2[i].trangthai ? 'btn-custom-info' : 'btn-custom-warning'}"
                                                    th:text="${items2[i].trangthai ? 'Làm việc' : 'Nghỉ'}"></button>
                                        </td>
                                        <td>
                                            <a th:href="@{/updateNhanVien/{id}(id=${items2[i].nguoidung.id})}" class="btn btn-outline-info">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                                                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                                                    <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                                                </svg>
                                            </a>
                                        </td>
                                    </tr>
                                    </tbody>
                                    </tfoot>
                                </table>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>
    <!--end-->
    <nav th:replace="~{/layoutadmin/footer.html}"></nav>
</div>
<!--script-->
<script>
    function clearForm() {
        // Lấy ra form theo id
        var form = document.getElementById("myForm");
        // Đặt lại giá trị của từng trường nhập liệu về rỗng
        form.reset();
    }
</script>
<nav th:replace="~{/layoutadmin/script.html}"></nav>
<!--end-->
</body>
</html>
